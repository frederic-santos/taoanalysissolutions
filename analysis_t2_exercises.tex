\documentclass[11pt]{article}
\title{Propositions of solutions for \textit{Analysis II} by Terence Tao}
\author{Frédéric Santos}
% General packages:
\usepackage{a4wide}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}
\usepackage{titlesec}
\titlelabel{\thetitle.\quad}
\usepackage{enumitem}
% Fonts and math packages:
\usepackage{lmodern}
\usepackage{amsmath}
\numberwithin{equation}{section}
\usepackage[matha,mathb]{mathabx}
\usepackage{mbboard}
\usepackage{stmaryrd}
\usepackage{hyperref}
% Macros:
\newcommand{\successor}[1]{#1 \! +\!\!\!+}
\newcommand{\aval}[1]{\left\lvert #1 \right\rvert}
\newcommand{\intset}[2]{\llbracket #1, #2 \rrbracket}
\newcommand{\inv}[1]{#1^{-1}}
\newcommand{\rr}{\mathbb{R}}
\newcommand{\partsof}[1]{\mathcal{P}\left( #1 \right)}
\newcommand{\minus}{\, \textrm{---}\!\textrm{--} \:}
\newcommand{\quot}{\, \textrm{/}\!\textrm{/} \:}
\newcommand{\nn}{\mathbb{N}}
\newcommand{\zz}{\mathbb{Z}}
\newcommand{\qq}{\mathbb{Q}}
\newcommand{\floor}[1]{\lfloor #1 \rfloor}
\newcommand{\formallimit}[1]{\text{LIM}_{n \to \infty} #1}
\newcommand{\seq}[2]{(#1)_{n=#2}^\infty}
\newcommand{\limit}[1]{\text{lim}_{n \to \infty} #1}
\newcommand{\extrr}{\overline{\rr}}
\newcommand{\adh}[1]{\overline{#1}}
\newcommand{\liminfp}[2]{\inf (#1^+_N)_{N=#2}^{\infty}}
\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
\renewcommand{\P}{\mathbf{P}}
\newcommand{\Q}{\mathbf{Q}}
\renewcommand{\epsilon}{\varepsilon}
\newcommand{\infint}[2]{\underline{\int}_{#2} \, #1}
\newcommand{\supint}[2]{\overline{\int}_{#2} \, #1}
% Lemmas:
\usepackage{amsthm}
\newtheorem*{lem}{Lemma}
\newtheorem*{theorem}{Theorem}
% Environment:
\newenvironment{exo}[2]{\noindent \textsc{Exercise #1}. ---
  \textit{#2} \vspace{3mm}}

%%%%%%%%%%%%%%
%%% Begin doc:
\begin{document}
\maketitle
\tableofcontents

\vskip 15mm

\noindent \textbf{Remarks.} The numbering of the Exercises follows the
fourth edition of \textit{Analysis II}. In order to make the
references to \textit{Analysis I} easier, we consider that we begin
with Chapter 12 here, as in earlier editions of the textbook. Thus, in
particular, a reference to ``Exercise 4.3.3'' (for instance) will
always mean ``Exercise 4.3.3 from \textit{Analysis I}''.

\pagebreak
\setcounter{section}{11}
\section{Metric spaces}
\label{sec:metric-spaces}
\begin{exo}{12.1.1}{Prove Lemma 12.1.1}

  Consider the sequence $\seq{a_n}{m}$ defined by
  $a_n := d(x_n, x) = |x_n - x|$ for all $n \geq m$. We have to prove
  that $\lim_{n \to \infty} a_n = 0$ if and only if
  $\lim_{n \to \infty} x_n = x$.

  \begin{itemize}
  \item Let be $\epsilon > 0$. If $\lim_{n \to \infty} a_n = 0$, then
    there exists an $N \geq m$ such that $|a_n| < \epsilon$ whenever
    $n \geq N$. Thus, there exists an $N \geq m$ such that
    $|x_n - x| < \epsilon$ whenever $n \geq N$, which means that
    $\lim_{n \to \infty} x_n = x$.
  \item Let be $\epsilon > 0$. Conversely, if $\lim_{n \to \infty} x_n
    = x$, then there exists an $N \geq m$ such that $|x_n - x| <
    \epsilon$ whenever $n \geq N$. But since $|a_n| := |x_n - x|$, it
    means that $\lim_{n \to \infty} a_n = 0$, as expected.
  \end{itemize}
\end{exo}

\begin{exo}{12.1.2}{Show that the real line with the metric $d(x, y) :=
    |x-y|$ is indeed a metric space.}

  Using Proposition 4.3.3, this claim is obvious. All claims (a)--(d)
  of Definition 12.1.2 are satisfied because:
  \begin{enumerate}[label=(\alph*)]
  \item comes from Proposition 4.3.3(e)
  \item also comes from Proposition 4.3.3(e)
  \item comes from Proposition 4.3.3(f)
  \item comes from Proposition 4.3.3(g).
  \end{enumerate}
\end{exo}

\begin{exo}{12.1.3}{Let $X$ be a set, and let
    $d : X \times X \to [0, \infty)$ be a function. With respect to
    Definition 12.1.2, give an example of a pair $(X,d)$ which...
    \vskip -4mm}
  
  \begin{enumerate}[label=(\alph*)]
  \item obeys the axioms (bcd) but not (a).

    Consider $X = \rr$, and $d$ defined by $d(x,x) = 1$ and $d(x,y) =
    5$ for all $x \neq y \in \rr$.
  \item obeys the axioms (acd) but not (b).

    Consider $X = \rr$, and $d$ defined by $d(x,y) = 0$ for all $x, y
    \in \rr$.
  \item obeys the axioms (abd) but not (c).

    Consider $X = \rr$, and $d$ defined by $d(x,y) = \max(x-y,0)$ for
    all $x,y \in \rr$.
  \item obeys the axioms (abc) but not (d).

    Consider the finite set $X := \{1,2,3\}$ and the application $d$
    defined by $d(1,2) = d(2,1) = d(2,3) = d(3,2) := 1$, and
    $d(1,3) = d(3,1) := 5$, and $d(x,x) = 0$ for all $x \in X$.
  \end{enumerate}  
\end{exo}

\begin{exo}{12.1.4}{Show that the pair $(Y, d|_{Y \times Y})$ deﬁned
    in Example 12.1.5 is indeed a metric space.}

  By definition, since $Y \subseteq X$, we have $x,y \in X$ whenever
  $x,y \in Y$. And furthermore, since $d|_{Y \times Y}(x,y) :=
  d(x,y)$, then the application $d|_{Y \times Y}$ obeys all four
  statements (a)--(d) of Definition 12.1.2. Thus, $(Y, d|_{Y \times
    Y})$ is indeed a metric space.
\end{exo}

\begin{exo}{12.1.5}{Let $n \geq 1$, and let $a_1, a_2, \ldots, a_n$
    and $b_1, b_2, \ldots, b_n$ be real numbers. Verify the identity
    $\left(\sum_{i=1}^n a_i b_i\right)^2 + \frac{1}{2} \sum_{i=1}^{n}
    \sum_{j=1}^{n} (a_i b_j - a_j b_i)^2 = \sum_{i=1}^{n} a_i^2
    \sum_{j=1}^{n} b_j^2$, and conclude the Cauchy-Schwarz inequality.
    Then use the Cauchy-Schwarz inequality to prove the triangle
    inequality.}

  Let's prove these three statements.

  \begin{enumerate}[label=(\roman*)]
  \item To prove the first identity, let's use induction on $n$.

    The base case $n=1$ is obvious: on the left-hand side, we just get
    $(a_1 b_1)^2$, and on the right-hand side, we get $a_1^2 b_1^2$,
    hence the statement.

    Now let's suppose inductively that this identity is true for a
    given positive integer $n \geq 1$, and let's prove that it is
    still true for $n+1$. We have to prove that
    \begin{equation}
      \label{eq:12.1.5a}
      \underbrace{\left(\sum_{i=1}^{n+1} a_i b_i\right)^2}_{:=A} +
      \underbrace{\frac{1}{2} \sum_{i=1}^{n+1} \sum_{j=1}^{n+1} (a_i
        b_j - a_j b_i)^2}_{:= B}
      = \underbrace{\left(\sum_{i=1}^{n+1} a_i^2\right)
        \left(\sum_{j=1}^{n+1} b_j^2\right)}_{:=C}
    \end{equation}
    where we gave a name to each part of the identity for an easier
    computation below. Indeed,
    \begin{itemize}
    \item for $A$, we have
      \begin{align*}
        A &:= \left(\sum_{i=1}^{n+1} a_i b_i\right)^2 \\
          &= \left(a_{n+1} b_{n+1} + \sum_{i=1}^{n} a_i b_i\right)^2
        \\
          &= (a_{n+1} b_{n+1})^2 + \left(\sum_{i=1}^{n} a_i
            b_i\right)^2 + 2 (a_{n+1} b_{n+1}) \sum_{i=1}^{n} a_i b_i
      \end{align*}
      
    \item for $B$, we have
      \begin{align*}
        B &:= \frac{1}{2} \sum_{i=1}^{n+1} \sum_{j=1}^{n+1} (a_i
            b_j - a_j b_i)^2 \\
          &= \frac{1}{2} \sum_{i=1}^{n} \sum_{j=1}^{n+1} (a_i b_j -
            a_j b_i)^2 + \frac{1}{2} \sum_{j=1}^{n+1} (a_{n+1} b_j -
            a_j b_{n+1})^2\\
          &= \frac{1}{2} \sum_{i=1}^{n} \sum_{j=1}^{n} (a_i b_j - a_j
            b_i)^2 +
            \underbrace{\frac{1}{2} \sum_{i=1}^{n} (a_i b_{n+1} -
            a_{n+1} b_i)^2}_{:= 1/2 \times S} +
            \underbrace{\frac{1}{2} \sum_{j=1}^{n} (a_{n+1} b_{j} - a_{j}
            b_{n+1})^2}_{:= 1/2 \times S} \\
          &\quad + \underbrace{\frac{1}{2} (a_{n+1}b_{n+1} -
            b_{n+1}a_{n+1})^2}_{=0} \\
          &= \frac{1}{2} \sum_{i=1}^{n} \sum_{j=1}^{n} (a_i b_j - a_j
            b_i)^2 + \sum_{k=1}^{n} (a_kb_{n+1} -
            a_{n+1}b_k)^2
      \end{align*}
      
    \item and thus, for $A + B$, we now use the induction hypothesis (IH)
      to get:
      \begin{align*}
        A + B
        &:= (a_{n+1} b_{n+1})^2 + \left(\sum_{i=1}^{n} a_i
          b_i\right)^2 +
          2 (a_{n+1} b_{n+1}) \sum_{i=1}^{n} a_i b_i\\
        &\quad + \frac{1}{2} \sum_{i=1}^{n} \sum_{j=1}^{n} (a_i b_j - a_j
          b_i)^2 + \sum_{k=1}^{n} (a_kb_{n+1} - a_{n+1}b_k)^2\\
        &= \underbrace{\left(\sum_{i=1}^{n} a_i b_i\right)^2 +
          \frac{1}{2} \sum_{i=1}^{n} \sum_{j=1}^{n} (a_i b_j - a_j
          b_i)^2}_{\text{apply (IH) here}} \\
        &\quad + (a_{n+1} b_{n+1})^2 +
          2 (a_{n+1} b_{n+1}) \sum_{i=1}^{n} a_i b_i
          + \sum_{k=1}^{n} (a_kb_{n+1} - a_{n+1}b_k)^2\\
        &= \left(\sum_{i=1}^{n} a_i^2\right) \left(\sum_{j=1}^{n}
          b_j^2\right)\\
        &\quad + (a_{n+1} b_{n+1})^2 +
          2 (a_{n+1} b_{n+1}) \sum_{i=1}^{n} a_i b_i
          + \sum_{k=1}^{n} (a_kb_{n+1} - a_{n+1}b_k)^2\\
        &= \left(\sum_{i=1}^{n} a_i^2\right) \left(\sum_{j=1}^{n}
          b_j^2\right) + (a_{n+1} b_{n+1})^2\\
        &\quad + 2 \sum_{i=1}^{n} a_i a_{n+1} b_i b_{n+1} +
          \sum_{i=1}^{n}(a_i^2 b_{n+1}^2 - 2a_ib_{n+1}a_{n+1}b_i + a_{n+1}^2b_i^2)\\
        &= \left(\sum_{i=1}^{n} a_i^2\right) \left(\sum_{j=1}^{n}
          b_j^2\right) + \sum_{i=1}^{n}(a_i^2 b_{n+1}^2 + a_{n+1}^2
          b_i^2) \\
        &= \left(\sum_{i=1}^{n+1} a_i^2\right) \left(\sum_{j=1}^{n+1}
          b_j^2\right) \\
        &= C
      \end{align*}
      so that the identity is indeed true for all natural number $n$.
    \end{itemize}
    
  \item We can use this identity to prove the Cauchy-Schwarz identity,
    \begin{equation}
      \label{eq:12.1.5b}
      \left| \sum_{i=1}^{n} a_i b_i\right| \leq \left( \sum_{i=1}^{n}
        a_i^2 \right)^{1/2} \left( \sum_{i=1}^{n}
        b_i^2 \right)^{1/2}.
    \end{equation}

    Indeed, since $B \geq 0$ in the identity \eqref{eq:12.1.5a}, we
    have
    \[\left(\sum_{i=1}^{n} a_i b_i\right)^2 \leq \left(\sum_{i=1}^{n} a_i^2\right)
      \left(\sum_{j=1}^{n} b_j^2\right)\]
    and thus, taking the square root on both sides, we get
    \eqref{eq:12.1.5b}, as expected.
    
  \item Finally, we can use the Cauchy-Schwarz inequality to prove the
    triangle inequality.

    We have
    \begin{align*}
      \sum_{i=1}^{n} (a_i^2 + b_i^2)
      &= \sum_{i=1}^{n} a_i^2 + \sum_{i=1}^{n} b_i^2 + 2
        \sum_{i=1}^{n} a_i b_i
      &\\
      &\leq \sum_{i=1}^{n} a_i^2 + \sum_{i=1}^{n} b_i^2 + 2
        \left(\sum_{i=1}^{n} a_i^2\right)^{1/2} \left(\sum_{i=1}^{n}
        b_i^2\right)^{1/2}
      &\text{ (by eq. \eqref{eq:12.1.5b})}\\
      &\leq \left( \left( \sum_{i=1}^{n} a_i^2 \right)^{1/2}
        + \left( \sum_{i=1}^{n} b_i^2 \right)^{1/2}\right)^2&
    \end{align*}
    and, since everything is positive, we get the triangle inequality
    by taking square roots on both sides.
  \end{enumerate}  
\end{exo}

\begin{exo}{12.1.6}{Show that $(\rr^n , d_{l^2}$) in Example 12.1.6 is
    indeed a metric space.}

  We have to show the four axioms of Definition 12.1.2.

  \begin{enumerate}[label=(\alph*)]
  \item For all $x \in \rr^n$, we have
    $d_{l^2}(x,x) = \sqrt{\sum_{i=1}^{n} (x_i - x_i)^2} = 0$, as expected.
  \item Positivity: for all $x,y \in \rr^n$, we have
    $d_{l^2}(x,y) = \sqrt{\sum_{i=1}^{n} (x_i - y_i)^2} \geq 0$, as the
    square root of a sum of $n$ non-negative terms, as expected.
  \item Symmetry: for all $x,y \in \rr^n$, we have
    \[d_{l^2}(y,x) = \sqrt{\sum_{i=1}^{n} (y_i - x_i)^2} =
      \sqrt{\sum_{i=1}^{n} (x_i - y_i)^2} = d_{l^2}(x,y)\] as expected.
  \item Triangle inequality: for all $x,y,z \in \rr^n$, we have
    \begin{align*}
      d_{l^2}(x,z)
      &:= \left(\sum_{i=1}^{n} (x_i - z_i)^2\right)^{1/2} &\\
      &= \left(\sum_{i=1}^{n} (a_i + b_i)^2\right)^{1/2}
      &\text{with $a_i := x_i-y_i$ and $b_i := y_i-z_i$}\\
      &\leq \left(\sum_{i=1}^{n} a_i^2\right)^{1/2} +
        \left(\sum_{i=1}^{n} b_i^2\right)^{1/2}
      &\text{(Exercise 12.1.5(iii))}\\
      &\leq \left(\sum_{i=1}^{n} (x_i - y_i)^2\right)^{1/2} +
        \left(\sum_{i=1}^{n} (y_i-z_i)^2\right)^{1/2}& \\
      &\leq d_{l^2}(x,y) + d_{l^2}(y,z)&
    \end{align*}
    as expected.
  \end{enumerate}
  Thus, $(\rr^n, d_{l^2})$ is indeed a metric space.
\end{exo}
\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
