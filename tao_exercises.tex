\documentclass[11pt]{article}
\title{Propositions of solutions for \textit{Analysis I} by Terence Tao}
\author{Frédéric Santos}
% General packages:
\usepackage{a4wide}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}
\usepackage{titlesec}
\titlelabel{\thetitle.\quad}
\usepackage{enumitem}
% Fonts and math packages:
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage[matha,mathb]{mathabx}
\usepackage{mbboard}
\usepackage{stmaryrd}
\usepackage{hyperref}
% Macros:
\newcommand{\successor}[1]{#1 \! +\!\!\!+}
\newcommand{\abs}[1]{\lvert #1 \rvert}
\newcommand{\inv}[1]{#1^{-1}}
\newcommand{\rr}{\mathbb{R}}
\newcommand{\partsof}[1]{\mathcal{P}\left( #1 \right)}
\newcommand{\minus}{\, \textrm{---}\!\textrm{--} \:}
\newcommand{\quot}{\, \textrm{/}\!\textrm{/} \:}
\newcommand{\nn}{\mathbb{N}}
\newcommand{\zz}{\mathbb{Z}}
\newcommand{\qq}{\mathbb{Q}}
\newcommand{\floor}[1]{\lfloor #1 \rfloor}
\renewcommand{\epsilon}{\varepsilon}
% Lemmas:
\usepackage{amsthm}
\newtheorem*{lem}{Lemma}
% Environment:
\newenvironment{exo}[2]{\noindent \textsc{Exercise #1}. ---
  \textit{#2} \vspace{3mm}}

% Begin doc:
\begin{document}
\maketitle

\section{Introduction}
\label{sec:introduction}
No exercises in this chapter.

\section{Starting at the beginning: the natural numbers}
\label{sec:natural-numbers}

\begin{exo}{2.2.1}{Prove that the addition is associative, i.e. that
    for any natural numbers $a, b, c$, we have $(a+b) + c = a + (b+c)$.}

  Let's use induction on $c$ while keeping $a$ and $b$ fixed.
  
  \begin{itemize}
  \item Base case for $c=0$: let's prove that $(a+b)+0 = a+(b+0)$. The
    left hand side is equal to $(a+b)$ according to Lemma 2.2.3. For the
    right hand side, if we apply the same lemma to the $(b+0)$ part,
    we get $a + (b+0) = a+b$. Both sides are equal to $a+b$, and the
    base case is thus done.
  \item Now let's suppose inductively that $(a+b) + c = a + (b+c)$: we
    have to prove that $(a+b) + \successor{c} = a + (b +
    \successor{c})$. Using Lemma 2.2.3 on the right
    hand side leads to $a + \successor{(b+c)}$. Now consider the left
    hand side. Using still the same lemma, we get $(a+b) +
    \successor{c} = \successor{\left((a+b) + c\right)}$. By the
    inductive hypothesis, this is also equal to
    $\successor{\left(a + (b+c)\right)}$. And, using the lemma 2.2.3
    again, this also leads to $a + \successor{b+c}$. Therefore, both
    sides are equal to $a + \successor{b+c}$, and we have closed the
    induction.
  \end{itemize}
\end{exo}

\begin{exo}{2.2.2}{Let $a$ be a positive number. Prove that there
    exists exactly one natural number $b$ such that $\successor{b} =
    a$.}
  
  Let's use induction on $a$.

  \begin{itemize}
  \item Base case for $a=1$: we know that $b=0$ matches this property,
    since $\successor{0} = 1$ by Definition 2.1.3. Furthermore, there
    is only one solution. Suppose that is another natural number $b$
    such that $\successor{b} = 1$. Then, we would have
    $\successor{b} = \successor{0}$, which would imply $b = 0$ by
    Axiom 2.4. The base case is demonstrated.
  \item Let's suppose inductively that there is exactly one natural
    number $b$ such that $\successor{b} = a$. We have to prove that
    there is exactly one natural number $b'$ such that
    $\successor{b'} = \successor{a}$. By the induction hypothesis, and
    taking $b' = \successor{b}$, we have
    $\successor{b'} = \successor{(\successor{b})} = \successor{a}$. So
    there exists a solution, with $b' = \successor{b} = a$. Uniqueness is
    given by Axiom 2.4.: if $\successor{b'} = \successor{a}$, then we
    necessarily have $b'=a$.
  \end{itemize}
\end{exo}

\begin{exo}{2.2.3}{Let $a, b, c$ be natural numbers. Prove the
    following properties of order for natural numbers:}
  \begin{enumerate}[label=\emph{(\alph*)}]
  \item Reflexivity: $a \geq a$. This is true since $a = 0 + a$ by
    Definition 2.2.1. By commutativity of addition, we can also write
    $a = a + 0$. So there is indeed a natural number $n$ (with
    $n=0$) such that $a = a + n$, i.e. $a \geq a$.
  \item Transitivity: if $a \geq b$ and $b \geq c$, then $a \geq
    c$. From the part $a \geq b$, there exists a natural number $n$
    such that $a = b + n$ according to Definition 2.2.11. A similar
    consideration for the part $b \geq c$ leads to $b = c + m$, $m$
    being a natural number. Combining together those two equalities,
    we can write $a = b + n = (c + m) + n = c + (m + n)$ by
    associativity (see Exercise 2.2.1). Then, $n+m$ being a natural
    number\footnote{This is a trivial induction from the definition of
      addition.}, the transitivity is demonstrated.
  \item Anti-symmetry: if $a \geq b$ and $b \geq a$, then $a=b$. From
    the part $a \geq b$, there exists a natural number $n$ such that $a
    = b + n$. Similarly, there exists a natural number $m$ such that $b
    = a + m$. Combining those two equalities leads to $a = b + n = (a +
    m) + n = a + (m + n)$. By cancellation law (Proposition 2.2.6), we
    can conclude that $0 = m + n$. According to Corollary 2.2.9, this
    leads to $m = n = 0$. Therefore, both $m$ and $n$ are null,
    meaning that $a = b + 0 = b$.
  \item Preservation of order: $a \geq b$ iff $a + c \geq b +
    c$. First, let's prove that
    $a+c \geq b+c \Longrightarrow a \geq b$. If $a+c \geq b+c$, there
    exists a natural number $n$ such that $a+c = b+c+n$. By
    cancellation law (Proposition 2.2.6)\footnote{And also
      associativity and commutativity that we do not detail explicitly
      here.}, we conclude that $a = b + n$, i.e. $a\geq b$, thus
    demonstrating the first implication. Conversely, let's suppose
    that $a \geq b$. There exists a natural number $m$ such that
    $a = b + m$. Therefore, $a + c = b+m+c$ for any natural number
    $c$. Still by associativity and commutativity, we can rewrite this
    as $a+c = (b+c) +m$, i.e. $a+c \geq b+c$.
  \item $a < b$ iff $\successor{a} \leq b$. First, let's prove that
    $\successor{a} \leq b \Longrightarrow a < b$. By definition of
    ordering, there exists a natural number $n$ such that
    $b = (\successor{a}) + n$. By definition of addition, we can
    re-write: $b = \successor{(\successor{a} + n)}$. Then, by
    commutativity and yet again by definition of addition,
    $b = \successor{(n + \successor{a})} = (\successor{n}) +
    (\successor{a})$. Thus, there exists a natural number
    $\successor{n}$ such that $b = \successor{n} + a$, which means that
    $b \geq a$. But we still have to prove that $a \neq b$. Let's
    suppose that $a=b$: in this case, by cancellation law, we would
    have $\successor{n} = 0$, which is impossible according to Axiom
    2.3 (0 is not the successor of any natural number). Thus, $a \neq
    b$ et $b \geq a$: we have showed that $a < b$. 

    Conversely, let's prove that
    $a < b \Longrightarrow \successor{a} \leq b$. Starting from that
    strict inequality, there exists a \textit{positive}\footnote{We
      make use here of the statement \textit{(f)} demonstrated
      below. There is no circularity here, since proving \textit{(f)}
      will not make use of \textit{(e)}.} natural number $n$ such that
    $b = a + n$. By Lemma 2.2.10, since $n$ is positive, it has one
    unique antecessor $m$, so that $n$ can be written
    $\successor{m}$. Thus,
    $b = a + (\successor{m}) = \successor{(a + m)} = \successor{(m +
      a)} = m + (\successor{a}) = (\successor{a}) + m$. And, $m$ being
    a natural number, this corresponds to the statement $b \geq a$.
  \item $a < b$ iff $b=a+d$ for some positive number $d$. First, let's
    prove the first implication, $a<b \Longrightarrow b=a+d$ with
    $d \neq 0$. Since $a<b$, we have in particular $a \leq b$, and
    there exists a natural number $d$ such that $b=a+d$. For the sake
    of contradiction, let's suppose that $d=0$. We would have $b=a$,
    which would contradict the condition $a\neq b$ of the strict
    inequality. Thus, $d$ is a positive number, which demonstrates the
    left-to-right implication.

    Conversely, let's suppose that $b = a+d$, with $d \neq 0$. This
    expression gives immediately $a \leq b$. But if $a=b$, by
    cancellation law, this would lead to $0=d$, a contradiction with
    the fact that $d$ is a positive number. Thus, $a\neq b$ and $a
    \leq b$, which demonstrates $a<b$.
  \end{enumerate}
\end{exo}

\begin{exo}{2.2.4}{Demonstrate three lemmas used to prove the
    trichotomy of order for natural numbers.}
  \begin{enumerate}[label=\emph{(\alph*)}]
  \item Show that we have $0 \leq b$ for any natural number $b$. This is obvious
    since, by definition of addition, $0 + b = b$ for any natural
    number $b$. This is precisely the definition of $0 \leq b$.
  \item Show that if $a > b$, then $\successor{a} > b$. If $a > b$,
    then $a = b + d$, $d$ being a positive natural number. Let's
    recall that $\successor{a} = a + 1$. Thus, $\successor{a} = a + 1
    = b + d + 1 = b + (d+1)$ by associativity of
    addition. Furthermore, $d+1$ is a positive natural number (by
    Proposition 2.2.8). Thus, $\successor{a} > b$.
  \item Show that if $a=b$, then $\successor{a}>b$. Once again, let's
    use the fact that $\successor{a} = a+1$. Thus, $\successor{a} =
    a+1 = b+1$, and $1$ is a positive natural number. This is the
    definition of $\successor{a}>b$.
  \end{enumerate}
\end{exo}

\begin{exo}{2.2.5}{Prove the strong principle of induction, formulated
    as follows: Let $m_0$ be a natural number, and let $P(m)$ be a
    property pertaining to an arbitrary natural number $m$. Suppose
    that for each $m \geq m_0$, we have the following implication: if
    $P(m')$ is true for all natural numbers $m_0 \leq m' < m$, then
    $P(m)$ is also true. (In particular, this means that $P(m_0)$ is
    true, since in this case the hypothesis is vacuous.) Then we can
    conclude that $P(m)$ is true for all natural numbers
    $m \geq m_0$.}

  First let's introduce a small lemma (similar to Proposition
  2.2.12\textit{(e)}).

  \begin{lem}
    For any natural number $a$ and $b$, $a<\successor{b}$ iff $a\leq
    b$.
  \end{lem}
  \begin{proof}
    If $a < \successor{b}$, then $\successor{b} = a+n$ for a given
    positive natural $n$. By Lemma 2.2.10, there exists one natural
    number $m$ such as $n = \successor{m}$. Thus $\successor{b} = a +
    \successor{m}$, which can be rewritten $\successor{b} =
    \successor{(a+m)}$ by Lemma 2.2.3\footnote{We could also rewrite
      $b+1 = a + m + 1$ and then use the cancellation law.}. By Axiom
    2.4., this is equivalent to $b = a+n$, which can also be written
    $a \leq b$.
    
    Conversely, if $a \leq b$, there exists a natural number $m$
    such as $b = a+m$. Thus, $\successor{b} = \successor{(a+m)} =
    a + (\successor{m})$ by Definition of addition
    (2.2.1). And, $\successor{m}$ being a positive
    number, this means that $b > a$ according to Proposition
    2.2.12\textit{(f)}.
  \end{proof}

  Now we can prove the main proposition. Let $Q(n)$ be the property
  ``$P(m)$ is true for all $m$ such that $m_0 \leq m < n$''. Let's
  induct on $n$.

  \begin{itemize}
  \item (Although this is not necessary,) we could consider two types
    of base cases. If $n < m_0$, $Q(n)$ is the proposition ``$P(m)$ is
    true for all $m$ such that $m_0 \leq m < n$'', but there is no
    such natural number $m$. Thus, $Q(n)$ is vacuously true. If
    $n = m_0$, $P(m_0)$ is true by hypothesis, thus $Q(m_0)$ is also
    true.
  \item Now let's suppose inductively that $Q(n)$ is true, and show
    that $Q(\successor{n})$ is also true. If $Q(n)$ is true, $P(m)$ is
    true for all $m$ such that $m_0 \leq m < n$. By hypothesis, this
    implies that $P(n)$ is true. Thus, $P(m)$ is true for any natural
    number $m$ such that $m_0 \leq m \leq n$, i.e. such that $m_0 \leq
    m < \successor{n}$ according to the lemma introduced above. This
    is precisely $Q(\successor{n})$, and this closes the induction.
  \end{itemize}
  Thus, $Q(n)$ is true for all natural numbers $n$, which means in
  particular that $P(m)$ is true for any natural number $m \geq
  m_0$. This demonstrates the principle of strong induction.
\end{exo}

\bigskip
\begin{exo}{2.2.6}{Let $n$ be a natural number, and let $P(m)$ be a
    property pertaining to the natural numbers such that whenever
    $P(\successor{m})$ is true, then $P(m)$ is true. Suppose that
    $P(n)$ is also true. Prove that $P(m)$ is true for all natural
    numbers $m \leq n$; this is known as the \emph{principle of
      backwards induction}.}
  
  Terence Tao suggests to use induction on $n$. So let $Q(n)$ be the
  following property: ``if $P(n)$ is true, then $P(m)$ is true for all
  $m \leq n$. The goal is to prove $Q(n)$ for all natural numbers $n$.

  \begin{itemize}
  \item Base case $n = 0$: here, $Q(n)$ means that if $P(0)$ is true,
    then $P(m)$ is true for any $m \leq 0$. By Definition 2.2.11, if
    $m \leq 0$, there exists a natural number $d$ such that $0 = m +
    d$. But, by Corollary 2.2.9, this implies that both $m = 0$ and $d
    = 0$. Thus, the only number $m$ such that $m \leq 0$ is 0
    itself. Therefore, $Q(0)$ is simply the tautology ``if $P(0)$ is
    true, then $P(0)$ is true''--- a statement that we can safely
    accept. The base case is the, demonstrated.
  \item Let's suppose inductively that $Q(n)$ is true: we must show
    that $Q(\successor{n})$ is also true. If $P(\successor{n})$ is
    true, then by definition of $P$, $P(n)$ is also true. Then, by
    induction hypothesis, $P(m)$ is true for all $m \leq n$. We have
    showed that $P(\successor{n})$ implies $P(m)$ for all
    $m \leq \successor{n}$\footnote{Actually, we use here yet another
      lemma, similar to the one introduced for the previous
      exercise. We use the fact that $m \leq \successor{n}$ is
      equivalent to $m = \successor{n}$ or $m \leq n$, which is easy
      to prove, but is not part of the ``standard'' results presented
      in the textbook.}, which is precisely $Q(\successor{n})$. This
    closes the induction.
  \end{itemize}
\end{exo}

\begin{exo}{2.3.1}{Show that multiplication is commutative, i.e., if
    $n$ and $m$ are natural numbers, show that $n \times m = m \times
    n$.}

  We will use an induction of $n$ while keeping $m$ fixed. However,
  this is not a trivial result, and even the base case is not
  straightforward. We will first introduce some lemmas.

  \begin{lem}
    For any natural number $n$, $n \times 0 = 0$.
  \end{lem}

  \begin{proof}
    Let's induct on $n$.
    For the base case $n=0$, we know by Definition 2.3.1 of
    multiplication that $0 \times 0 = 0$, since $0 \times m = 0$ for
    any natural number $m$.

    Now let's suppose that $n \times 0 = 0$. Thus, $\successor{n}
    \times 0 = (n \times 0) + 0$ by Definition 2.3.1. But by induction
    hypothesis, $n \times 0 = 0$, so that $\successor{n} \times 0 = 0
    + 0 = 0$. This closes the induction.
  \end{proof}

  \begin{lem}
    For all natural numbers $m$ and $n$, we have $m \times \successor{n} = (m
    \times n) + m$.
  \end{lem}

  \begin{proof}
    Let's induct on $m$. The base case $m=0$ is easy to prove: $0
    \times \successor{n} = 0$ by Definition 2.3.1 of multiplication, and $(0
    \times n) + 0 = 0$.

    Now suppose inductively that
    $m \times \successor{n} = (m \times n) + m$, and we must show that
    \begin{equation}
      \label{eq:proof_lemma_231}
      \successor{m} \times \successor{n} = (\successor{m} \times n) +
      \successor{m}
    \end{equation}

    We begin by the left hand side: by Definition
    2.3.1,
    $\successor{m} \times \successor{n} = (m \times \successor{n}) +
    \successor{n}$. By induction hypothesis, this is equal to
    $(m \times n) + m + \successor{n}$.

    Then, apply the definition of multiplication to the right hand
    side:
    $(\successor{m} \times n) + \successor{m} = (m \times n) + n +
    \successor{m}$. The Lemma 2.2.3 and the commutativity of addition
    leads to
    $(m \times n) + n + \successor{m} = (m \times n) + \successor{(n +
      m)} = (m \times n) + \successor{(m + n)} = (m \times n) + m +
    \successor{n}$, which is equal to the left hand side.

    Thus, both sides of equation \eqref{eq:proof_lemma_231} are equal,
    and we can close the induction.
  \end{proof}
  
  Now it is easier to prove the main result ($n \times m = m \times
  n$), by an induction on $n$.

  \begin{itemize}
  \item Base case $n = 0$: we already know by Definition 2.3.1 that $0
    \times m = 0$. The first lemma introduced in this exercise also
    provides $m \times 0 = 0$. Thus, the base case is proved, since $0
    \times m = m \times 0 \; (= 0)$.
  \item Now we suppose inductively that $n \times m = m \times n$, and
    we must prove that:
    \begin{equation}
      \label{eq:recurr_commutativity_of_multiplication}
      \successor{n} \times m = m \times \successor{n}
    \end{equation}
    By Definition 2.3.1 of multiplication, the left hand side is equal
    to $(n \times m) + m$.

    Using the lemma introduced above, the right hand side is equal to
    $(m \times n) + m$. By induction hypothesis, this is also equal to
    $(n \times m) + m$, which closes the induction.
  \end{itemize}  
\end{exo}

\begin{exo}{2.3.2}{Show that positive natural numbers have no zero
    divisors, i.e. that $nm=0$ iff $n=0$ or $m=0$. In particular, if
    $n$ and $m$ are both positive, then $nm$ is also positive.}

  We will prove the second statement first. Suppose, for the sake of
  contradiction, that $nm = 0$ and that both $n$ and $m$ are positive
  numbers. Since they are positive, by Lemma 2.2.10, there exists two
  (unique) natural numbers $a$ and $b$ such that $n = \successor{a}$
  and $m = \successor{b}$. Thus, the hypothesis $nm=0$ can also be
  written $(\successor{a}) \times (\successor{b}) = 0$. But, by
  Definition 2.3.1  of multiplication, $(\successor{a}) \times
  (\successor{b}) = (a \times \successor{b}) + \successor{b}$. Thus,
  we should have $(a \times \successor{b}) + \successor{b} = 0$. By
  Corollary 2.2.9, this implies that both $(a \times \successor{b}) =
  0$ and $\successor{b} = 0$, which is impossible since zero is the
  successor of no natural number (Axiom 2.3).

  Thus, we have proved that if $n$ and $m$ are both positive, then
  $nm$ is also positive.  The main statement can now be proved more
  easily.

  \begin{itemize}
  \item The right-to-left implication is straightforward: if $n=0$,
    then by Definition of multiplication, $n \times m = 0 \times m =
    0$. Since multiplication is commutative, we have the same result
    if $m = 0$.
  \item The left-to-right implication is exactly the contrapositive of
    the statement we have just proved above.
  \end{itemize}
\end{exo}

\begin{exo}{2.3.3}{Show that multiplication is associative, i.e., for
    any natural numbers $a, b,c $, we have $(a\times b) \times c = a
    \times (b \times c)$.}

  We will induct on $c$ while keeping $a$ and $b$ fixed.

  \begin{itemize}
  \item Base case: for $c=0$, we must prove that $(a \times b) \times
    0 = a \times (b \times 0)$. The left hand side is equal to 0 by
    definition (and commutativity) of
    multiplication\footnote{Actually, we use the second lemma
      introduced for the resolution of Exercise 2.3.1.}. The right hand
    side is equal to $a0$, which is also 0. Both sides are null, and
    the base case is proved.
  \item Suppose inductively that
    $(a\times b) \times c = a \times (b \times c)$, and let's prove
    that
    $(a\times b) \times \successor{c} = a \times (b \times
    \successor{c})$. By definition (and commutativity) of
    multiplication, the left hand side is equal to $(a \times b)
    \times c + (a \times b)$. The right hand side is equal to $a
    \times (b \times c + b)$, and by distributive law (i.e.,
    Proposition 2.3.4), this is also $a \times (b \times c) + a \times
    b$. But then, by inductive hypothesis, this can be rewritten $(a
    \times b) \times c + a \times b$, which is equal to the left hand
    side. The induction is closed.
  \end{itemize}
\end{exo}

\begin{exo}{2.3.4}{Prove the identity $(a + b)^2 = a^2 + 2ab + b^2$
    for all natural numbers $a,b$.}

  By distribution law (i.e., Proposition 2.3.4) and commutativity of
  multiplication, we have:

  \begin{align*}
    (a+b)^2 &= (a+b)(a+b) = (a+b)a + (a+b)b \\
            &= a\times a + b \times a + a \times b + b \times b \\
            &= a^2 + a \times b + a \times b + b^2 \\
            &= a^2 + 2 ab + b^2
  \end{align*}

  (For the last step, we recall that, by Definition 2.3.1, $2 \times m
  = m + m$ for any natural number $m$.)
\end{exo}

\bigskip
\begin{exo}{2.3.5}{Euclidean algorithm. Let $n$ be a natural number, and let $q$ be a
    positive number. Prove that there exists natural numbers $m, r$
    such that $0 \leq r < q$ and $n = mq + r$.}

  We will induct on $n$ while remaining $q$ fixed.

  \begin{itemize}
  \item Base case: if $n=0$, there exists an obvious solution, namely
    $m=0$ and $r=0$.
  \item Suppose inductively that there exists $m, r$ such that $n = mq
    + r$ with $0 \leq r < q$, and let's prove that there exists $m', r'$ such that
    $n+1 = m'q+r'$, with $0 \leq r' < q$.

    By the induction hypothesis, we have $n + 1 = mq + r + 1$. Since
    $r < q$, we have $r + 1 \leq q$ (this is Proposition
    2.2.12). Thus, we have two cases here:

    \begin{enumerate}
    \item If $r+1 < q$, then $n+1 = mq + (r+1)$, with $0 \leq r+1 <q$,
      so that choosing $m' = m$ and $r' = r+1$ is convenient.
    \item If $r+1 = q$, then $n + 1 = mq + q = (m + 1)q$ according to
      the distributive law (Proposition 2.3.4). Thus, choosing $m' =
      m+1$ and $r' = 0$ is convenient.
    \end{enumerate}
  \end{itemize}
  This closes the induction.
\end{exo}

\section{Set theory}
\begin{exo}{3.1.2}{Using only Definition 3.1.4, Axiom 3.1, Axiom 3.2,
    and Axiom 3.3, prove that the sets $\emptyset$, $\{\emptyset\}$,
    $\{\{\emptyset\}\}$, and $\{\emptyset, \{\emptyset\}\}$ are all
    distinct (i.e., no two of them are equal to each other).}

  As a general reminder, we recall that sets are objects (Axiom 3.1)
  and the empty set $\emptyset$ is such that no object is an element of
  $\emptyset$, thus $\emptyset \notin \emptyset$.
  
  \begin{enumerate}
  \item First let's show that $\emptyset$ is different from all other
    sets. $\emptyset$ is an element of $\{\emptyset\}$ and
    $\{\emptyset, \{\emptyset\}\}$, and $\{\emptyset\}$ is an element
    of $\{\{\emptyset\}\}$. But none of those two objects are elements
    of $\emptyset$ (by Axiom 3.2), thus $\emptyset$ is different from
    all three other sets.
  \item Then let's show that $\{\emptyset\} \neq
    \{\{\emptyset\}\}$. By Axiom 3.3, the singleton $\{\emptyset\}$ is
    such that $x \in \{\emptyset\} \Longleftrightarrow x =
    \emptyset$. Similarly, the singleton $\{\{\emptyset\}\}$ is such
    that $x \in \{\{\emptyset\}\} \Longleftrightarrow x =
    \{\emptyset\}$. But we already know that $\emptyset \neq
    \{\emptyset\}$ so there exists an object, $\emptyset$, which is a
    element of $\{\emptyset\}$ but not an element of
    $\{\{\emptyset\}\}$. Those sets are not equal.
  \item Now let's show that $\{\emptyset\} \neq \{\emptyset,
    \{\emptyset\}\}$. By Axiom 3.3, the pair $\{\emptyset,
    \{\emptyset\}\}$ is such that $x$ is an element of this set iff $x
    = \emptyset$ or $x = \{\emptyset\}$. Thus, $\{\emptyset\}$ is an
    element of $\{\emptyset, \{\emptyset\}\}$, but is not an element
    of $\{\emptyset\}$ (if it was, we should have $\emptyset =
    \{\emptyset\}$, which would be a contradiction with the first
    point of this proof). Those two sets are thus different.
  \item Finally, we also have
    $\{\{\emptyset\}\} \neq \{\emptyset, \{\emptyset\}\}$. Indeed, we
    have $\emptyset \in \{\emptyset, \{\emptyset\}\}$ by Axiom
    3.3. However,
    $\emptyset \in \{\{\emptyset\}\} \Longleftrightarrow \emptyset =
    \{\emptyset\}$ by definition of a singleton, and we know this
    latest statement is false by the first point of this proof. Those
    two sets are also different.
  \end{enumerate}
\end{exo}

\begin{exo}{3.1.3}{Prove the remaining claims in Lemma 3.1.13.}

  Those claims are the following:
  \begin{enumerate}
  \item $\{a,b\} = \{a\} \cup \{b\}$. By Axiom 3.3, the pair $\{a,
    b\}$ is such that $x \in \{a, b\} \Longleftrightarrow x = a$ or $x
    = b$. Let's consider three cases:
    \begin{itemize}
    \item if $x = a$, $x \in \{a\}$ by Axiom 3.3, thus $x \in \{a\}
      \cup \{b\}$ by Axiom 3.4
    \item if $x = b$, $x \in \{b\}$ by Axiom 3.3, thus $x \in \{a\}
      \cup \{b\}$ by Axiom 3.4
    \item if $x \neq a$ and $x \neq b$, $x \notin \{a\}$ and $x \notin
      \{b\}$ by Axiom 3.3, so that $x \notin \{a\} \cup \{b\}$
    \end{itemize}
    Thus, $\{a,b\}$ and $\{a\} \cup \{b\}$ have the same elements, and
    are equal.
  \item $A \cup B = B \cup A$ for all sets $A$ and $B$. Indeed, $x \in
    A \cup B \Longleftrightarrow x \in A$ or $x \in B$. If $x \in A$,
    then $x \in B \cup A$ by Axiom 3.4. A similar argument holds if $x
    \in B$. Thus, in both cases, $x \in B \cup A$. We can show in a
    similar fashion that any element of $B \cup A$ is in $A \cup B$.
  \item $A \cup \emptyset = \emptyset \cup A = A$. Since we've just
    showed that union is commutative, proving $A \cup \emptyset = A$
    is sufficient. If $x \in A$, then $x \in A \cup \emptyset$. The
    converse is also true: if $x \in A \cup \emptyset$, then $x \in A$
    or $x \in \emptyset$. But there is no element in $\emptyset$, so
    that we have necessarily $x \in A$. Thus, $A \cup \emptyset$ and
    $A$ have the same elements: they are equal.
  \end{enumerate}
\end{exo}

\begin{exo}{3.1.4}{Prove the remaining claims from Proposition 3.1.18.}

  Let $A, B, C$ be sets. Those claims are the following:

  \begin{enumerate}
  \item If $A \subseteq B$ and $B \subseteq A$, then $B =
    A$. According to Definition 3.1.4, two sets $A$ and $B$ are equal
    iff every element of $A$ is an element of $B$, and vice
    versa. This is precisely the present claim.
  \item If $A \subsetneq B$ and $B \subsetneq C$, then
    $A \subsetneq C$. Let $x$ be an element of $A$. Since
    $A \subsetneq B$, $x$ is also an element of $B$. And since
    $B \subsetneq C$, $x$ is also an element of $C$. This holds for
    any $x$ in $A$, and thus it demonstrates that $A \subset
    C$. Furthermore, since $A \subsetneq B$, there exists an element
    $y \in B$ which is not an element of $A$. As $B \subsetneq C$, $y$
    is also an element of $C$. Thus we have $y$, an element of $C$
    which is not in $A$. Combined to the previous result $A \subset
    C$, this demonstrates $A \subsetneq C$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.1.5}{Let $A, B$ be sets. Show that the three statements
    $A \subseteq B$, $A \cup B = B$ and $A \cap B = A$ are logically
    equivalent (i.e., any one of them implies the other two).}
  \begin{enumerate}
  \item First, we prove that
    $A \subseteq B \Longrightarrow A \cup B = B$. The first inclusion
    $B \subseteq A \cup B$ is trivial, since any element of a set $B$
    is always either in $A$ or $B$. For the converse inclusion, let
    $x$ be an element of $A \cup B$, and let's prove that $x \in
    B$. By Axiom 3.4, we have $x \in A$ or $x \in B$. If $x \in B$,
    the result holds. If $x \in A$, then we also have $x \in B$ since
    $A \subseteq B$. Thus, any element of $A \cup B$ is an element of
    $B$, which demonstrates the equality $A \cup B = B$.
  \item Then, we prove that $A \cup B = B \Longrightarrow A \cap B =
    A$. The first inclusion is trivial: if $x \in A \cap B$, then we
    always have $x \in A$. Now let's prove the converse inclusion: let
    $x$ be an element of $A$; we must show that $x \in A \cap B$. If
    $x \in A$, then $x \in A \cup B$. But, by hypothesis, $A \cup B =
    B$, thus $x \in B$. So, $x \in A$ and $x \in B$, i.e. $x \in A
    \cap B$. This demonstrates the implication.
  \item Finally, we prove that $A \cap B = A \Longrightarrow A
    \subseteq B$. Let $x \in A$. Since $A \cap B = A$, we have $x \in
    A \cap B$. It follows that $x \in B$. We have proved that any
    element $x \in A$ is also an element of $B$, i.e. $A \subseteq B$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.1.8}{Let A, B be sets. Prove the absorption laws
    $A \cap (A \cup B) = A$ and $A \cup (A \cap B) = A$.}
  \begin{enumerate}
  \item The first inclusion $A \cap (A \cup B) \subseteq A$ is
    trivial: if $x \in A \cap (A \cup B)$ then in particular $x \in A$
    by Definition 3.1.23 of an intersection\footnote{This intersection
      is not empty since $A$ and $A \cup B$ are not disjoint.}. Thus,
    we have $A \cap (A \cup B) \subseteq A$.

    For the converse inclusion, let $x$ be an element of $A$. Then by
    definition $x \in A$, and we have also $x \in A \cup B$ since $x
    \in A$. Thus, $x \in A \cap (A \cup B)$, which proves the converse
    inclusion.

    Consequently, $A = A \cap (A \cup B)$.
  \item First we show that $A \cup (A \cap B) \subseteq A$. Let
    $x \in A \cup (A \cap B)$. By Definition of an union, we have
    either $x \in A$, or $x \in A \cap B$. In both cases\footnote{If
      $A$ and $B$ are disjoint, then the first case $x \in A$
      necessarily holds, since $x \in A \cup B$ is impossible.}, we
    have $x \in A$, so that the inclusion is proved.

    Conversely, let $x \in A$. Then in particular, we have $x \in A
    \cup (A \cap B)$ by Definition of an union, because $x \in
    A$. Thus, $x \in A \cup (A \cap B)$.

    We have proved that $A \cup (A \cap B) = A$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.1.9}{Let $A, B, X$ be sets such that $A \cup B = X$ and
    $A \cap B = \emptyset$. Show that $A = X \backslash B$ and
    $B = X \backslash A$.}

  The two sets $A$ and $B$ play a symmetrical role here, so that
  proving one of these two assertions is sufficient. For instance, we
  prove that $A = X \backslash B$.

  \begin{itemize}
  \item Let $x$ be an element of $A$. Since $x \in A$, we also have $x
    \in A \cup B$ by definition of an union. But $A \cup B = X$, and
    then $x \in X$. On the other hand, we cannot have $x \in B$,
    because $x \in A$ and the sets $A, B$ are disjoint. Thus, $x \in
    X$ and $x \notin B$, which means that $x \in X \backslash B$. We
    have proved that $A \subseteq X \backslash B$.
  \item Conversely, let $x$ be an element of $X \backslash B$. By
    definition, this means that $x \in X$, i.e. $x \in A \cup B$, and
    $x \notin B$. Since $x \in A \cup B$, we have either $x \in A$ or
    $x \in B$, but we know that the latter is impossible. Thus, we
    have necessarily $x \in A$. We have proved that $X \backslash B
    \subseteq A$.
  \item We can conclude that $X \backslash B = A$.
  \end{itemize}
  
\end{exo}

\begin{exo}{3.1.11}{Prove that the axiom of replacement (Axiom 3.6)
    implies the axiom of specification (Axiom 3.5).}
  
  Let's recall the axiom of replacement. Let $A$ be a set. For every
  $x \in A$, and for every (abstract) object $y$, let $P(x,y)$ be a
  statement pertaining to both $x$ and $y$, such that for any
  $x \in A$ there is at most one $y$ for which $P(x,y)$ is true. Then
  there exists a set
  $\{y \, : \, P(x,y) \text{ is true for some } x \in A \}$, such that
  for any object $z$,
  \[z \in \{y \, : \, P(x,y) \text{ is true for some } x \in A \}
    \Longleftrightarrow P(x,z) \text{ is true for some } x \in A\]

  Now, let $A$ be a set, $x$ an element of $A$, and $y$ an object. We
  accept the axiom of replacement, and show that it implies the axiom
  of specification.

  Let $Q(x,y)$ be the property ``$x = y$ and $P(x)$''. According to
  the axiom of replacement, there exists a set
  $\{y \, : \, Q(x,y) \text{ is true for some } x \in A\}$ such that:
  \begin{align*}
    & z \in \{y \, : \, Q(x,y) \text{ is true for some } x \in A \} \\
    \Longleftrightarrow \; & Q(x,z) \text{ is true for some } x \in A \\
    \Longleftrightarrow \; & x = z \text{ and } P(x) \text{ is true
                             for some } x \in A
    \\
    \Longleftrightarrow \; & x = z \text{ and } P(z) \text{ is true
                             for some } x \in A \text{ 
                             (by axiom of substitution)} \\
    \Longleftrightarrow \; & z \in A \text{ and } P(z) \text{ is true }
  \end{align*}

  Thus, we have proved the existence of a set (the set $\{y \, : \,
  Q(x,y) \text{ is true for some } x \in A \}$) satisfying the axiom
  of specification: $z$ belongs to this set iff $z \in A$ and $P(z)$
  is true.
\end{exo}

\bigskip

\begin{exo}{3.3.1}{Show that the definition of equality in Definition
    3.3.7 is reflexive, symmetric and transitive. Also verify the
    substitution property: if $f_1, f_2 : X \rightarrow Y$ and $g_1,
    g_2 : Y \rightarrow Z$ are functions such that $f_1 f_2$ and $g_1
    = g_2$, then $g_1 \circ f_1 = g_2 \circ f_2$.}

  \begin{enumerate}
  \item Definition 3.3.7 says that two functions $f$ and $g$ are equal
    if they have same domain $X$ and range $Y$, and if, for all
    $x \in X$, $f(x) = g(x)$. This definition of equality is obviously
    reflexive, symmetric and transitive if we assume that the objects
    in the domain $X$ and the range $Y$ verify themselves the axioms
    of equality.
  \item Since $f_1 = f_2$, they have same domain $X$ and same range
    $Y$. This is also the case for $g_1$ and $g_2$, with domain $Y$
    and range $Z$. Thus, $g_1 \circ f_1$ has domain $X$ and range $Z$,
    and so has $g_2 \circ f_2$. Furthermore, we have, for all
    $x \in X$:
    \begin{align*}
      g_2 \circ f_2(x) &= g_2 \circ f_1(x) \text{ (since $f_1 = f_2$)}
      \\
                       &= g_1 \circ f_1(x) \text{ (since $g_1 = g_2$)}
    \end{align*}
    which closes the demonstration.
  \end{enumerate}
\end{exo}

\begin{exo}{3.3.2}{Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$
    be functions. Show that if $f$ and $g$ are both injective, then so
    is $g \circ f$. Similarly, show that if $f$ and $g$ are both
    surjective, then so is $g \circ f$.}

  First let's note that $g \circ f : X \rightarrow Z$.

  \begin{enumerate}
  \item Suppose that $f$ and $g$ are both injective, and let
    $x, x' \in X$. We have successively :
    \begin{eqnarray*}
      g \circ f (x) & =& g \circ f (x') \\
      g(f(x)) &=& g(f(x'))  \\
      f(x) &=& f(x') \; \text{ because $g$ is injective}\\
      x &=& x' \; \text{ because $f$ is injective}
    \end{eqnarray*}
    We have showed that $g \circ f (x) = g \circ f (x') \Rightarrow x
    = x'$ for all $x, x' \in X$, i.e. that $g \circ f$ is injective.
    
  \item Suppose that $f$ and $g$ are both surjective, and let
    be $z \in Z$. Since $g$ is surjective, there exists $y \in Y$ such
    that $z = g(y)$. And since $f$ is surjective, there exists $x \in
    X$ such that $y = f(x)$. Thus, combining those two results, there
    exists $x \in X$ such that $z = g(f(x))$. This means precisely
    that $g \circ f$ is surjective.
  \end{enumerate}
\end{exo}

\begin{exo}{3.3.3}{When is the empty function injective? surjective?
    bijective?}
  
  Let $f$ be the empty function, i.e. $f : \emptyset \rightarrow Y$
  for a certain range $Y$.
  \begin{enumerate}
  \item $f$ is injective iff $x \neq x' \Rightarrow f(x) \neq
    f(x')$. This can be considered as vacuously true since there are
    no such $x$ and $x'$. $f$ can be considered as always injective,
    for any range $Y$.
  \item $f$ is surjective iff for any $y \in Y$, there exists $x \in
    \emptyset$ such that $y = f(x)$. We can clearly see that this
    assertion is false if $Y \neq \emptyset$, since any $y \in Y$ will
    have no antecedent in $\emptyset$. Conversely, if $Y = \emptyset$,
    the assertion is vacuously true, since there is no element in
    $Y$. Thus, $f$ is surjective iff $Y = \emptyset$.
  \item Since $f$ is always injective, and is surjective iff $Y =
    \emptyset$, it is clear that $f$ is bijective iff $Y = \emptyset$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.3.4}{Let $f : X \rightarrow Y$, $\tilde{f} : X
    \rightarrow Y$, $g : Y \rightarrow Z$, $\tilde{g} : Y \rightarrow
    Z$ be functions. Show that if $g \circ f = g \circ \tilde{f}$ and
    $g$ is injective, then $f = \tilde{f}$. Is this statement true if
    $g$ is not injective? Also, show that if $g \circ f = \tilde{g}
    \circ f$ and $f$ is surjective, then $g = \tilde{g}$. Is this
    statement true if $f$ is not surjective?}

  This exercise introduces some cancellation laws for composition.

  \begin{enumerate}
  \item First, note that $f$ and $\tilde{f}$ have same domain and
    range, which is the first condition for two functions to be equal
    (by Definition 3.3.7). Then, suppose that
    $g \circ f = g \circ \tilde{f}$ and $g$ is injective. For the sake
    of contradiction, suppose that there exists $x \in X$ such that
    $f(x) \neq \tilde{f}(x)$. Since $g$ is injective, we would thus
    have $g(f(x)) \neq g(\tilde{f}(x))$, which would be a
    contradiction to the hypothesis $g \circ f = g \circ
    \tilde{f}$. Thus, there is no $x$ such that $f(x) = \tilde{f}(x)$,
    or in other words, $f = \tilde{f}$.

    This property is false if $g$ is not injective. As a
    counterexample, one can think of $f : \rr \rightarrow \rr$ with
    $f(x) = x$, $\tilde{f} : \rr \rightarrow \rr$ with
    $\tilde{f}(x) = -x$, and $g : \rr \rightarrow \rr_+$ with
    $g(x) = |x|$.
  \item As previously, first note that $g$ and $\tilde{g}$ have same
    domain and range. Let be $y, y' \in Y$. Since $f$ is surjective,
    there exist $x, x' \in X$ such that $y = f(x)$ and $y' = f(x')$
    respectively. Since $g \circ f = g \circ \tilde{f}$, we have
    $g(f(x)) = g(f(x'))$, i.e. $g(y) = g(y')$. We have showed that,
    for any $y, y' \in Y$, we have $g(y) = g(y')$, which means that $g
    = \tilde{g}$.

    This statement is false if $f$ is not surjective. For instance,
    let $f$ be a constant function, e.g. $f : \rr \rightarrow \rr$
    with $f(x) = 1$ for all $x$. Let $g, \tilde{g} : \rr \rightarrow
    \rr$ with $g(x) = 0$ and $\tilde{g}(x) = - x +1$. We have $g(1) =
    \tilde{g}(1)$, i.e. $g(f(x)) = \tilde{g}(x)$ for all $x \in X$,
    but we obviously do not have $g = \tilde{g}$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.3.5}{Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$
    be functions. Show that if $g \circ f$ is injective, then $f$ must
    be injective. Is it true that $g$ must also be injective? Show that
    if $g \circ f$ is surjective, then $g$ must be surjective. Is it
    true that $f$ must be surjective?}

  \begin{enumerate}
  \item If $g \circ f$ is injective, then for any given objects
    $x, x' \in X$, we have $g(f(x)) = g(f(x')) \Longrightarrow x =
    x'$. For the sake of contradiction, suppose that $f$ is not
    injective. In this case, there exist two elements $a, a' \in X$ such
    that $a \neq a'$ and $f(a) = f(a')$. We would thus have $g(f(a)) =
    g(f(a'))$ (axiom of substitution) and $a \neq a'$, which is
    incompatible with the hypothesis that $g \circ f$ is injective.

    Thus, $g \circ f$ injective implies that $f$ is injective.

    However, $g$ does not need to be injective. For instance, let's
    consider $X = \{1,2\}$ and $Y = Z = \{1, 2, 3\}$. Let's define the
    function $f$ as the mapping $f(1) = 1$, $f(2) = 2$. Let's define the
    function $g$ as the mapping $g(1) = 1$, $g(2) = 2$, $g(3) = 2$. Here,
    $f$ is injective, so is $g \circ f$, but $g$ is not injective.
  \item If $g \circ f$ is surjective, then for all $z \in Z$, there
    exists $x \in X$ such that $z = g(f(x))$. For the sake of
    contradiction, suppose that $g$ is not surjective: then, there
    exists $z \in Z$ such that for all $y \in Y$, $z \neq g(y)$. In
    particular, for all $x \in X$, since $f(x) \in Y$, we would have
    $g(f(x)) \neq z$, which would be a contradiction with $g \circ f$
    surjective.

    However, $f$ does not need to be surjective. For instance, let's
    consider $X = Y = \{1,2\}$ and $Z = \{1\}$. Let $f$ be the mapping
    $f(1) = f(2) = 1$, and $g$ be the mapping $g(1) = g(2) = 1$. Here,
    $g \circ f$ is surjective, but $f$ is not.
  \end{enumerate}
\end{exo}

\begin{exo}{3.3.6}{Let $f : X \rightarrow Y$ be a bijective function,
    and let $\inv{f} : Y \rightarrow X$ be its inverse. Verify the
    cancellation laws $\inv{f}(f(x)) = x$ for all $x \in X$ and
    $f(\inv{f}(y)) = y$ for all $y \in Y$. Conclude that $\inv{f}$ is
    also invertible and has $f$ as its inverse.}

  Recall that, by definition, for all $y \in Y$, $\inv{f}(y)$ is the only element
  $x \in X$ such that $f(x) = y$.
  \begin{enumerate}
  \item Let $a$ be an element of $X$, we thus have $f(a) \in Y$. Let's
    apply the definition to the element $y = f(a) \in Y$: by
    definition, $\inv{f}(f(a))$ is the only element $x \in X$ such
    that $f(x) = f(a)$. Since $f$ is bijective, this implies $x =
    a$. We thus have proved that $\inv{f}(f(a)) = a$.
  \item The proof for $f(\inv{f}(y)) = y$ is similar.
  \item To prove that $\inv{f}$ is also invertible, we need to prove
    that $\inv{f}$ is bijective, i.e. injective and surjective.

    For any given $y \in Y$, since $f$ is bijective, there exists exactly
    one $x \in X$ such that $y = f(x)$. Similarly, for any given $y'
    \in Y$, there exists exactly one $x' \in X$ such that $y' =
    f(x')$. In other words, $\inv{f}(y) = x$ and $\inv{f}(y') =
    x'$. Suppose that $\inv{f}(y) = \inv{f}(y')$. This can be written
    $x = x'$, which necessarily implies $f(x) = f(x')$ since $f$ is a
    function (and by axiom of substitution). And this can also be
    written $y = y'$. We thus have proved that for any $y, y' \in Y$,
    $\inv{f}(y) = \inv{f}(y') \Longrightarrow y = y'$. Thus, $\inv{f}$
    is injective.

    Furthermore, for any given $x \in X$, let's denote $y =
    f(x)$. Since $f$ is bijective, this means that $\inv{f}(y) =
    x$. Thus, any $x \in X$ has a predecessor $y \in Y$ for $\inv{f}$,
    i.e.  $\inv{f}$ is surjective.
  \end{enumerate}
\end{exo}

\begin{exo}{3.3.7}{Let $f : X \rightarrow Y$ and $g : Y \rightarrow Z$
    be functions. Show that if $f$ and $g$ are bijective, then so is $g
    \circ f$, and we have $\inv{(g \circ f)} = \inv{f} \circ \inv{g}$.}

  The first point is an immediate consequence of Exercise 3.3.2. We just
  have to show that $\inv{(g \circ f)} = \inv{f} \circ \inv{g}$.

  Let be any given element $z \in Z$. Since $g$ is bijective, there
  exists one single element $y \in Y$ such that $z = g(y)$, i.e.
  $y = \inv{g}(z)$. And since $f$ is also bijective, there exists
  exactly one single element $x \in X$ such that $y = f(x)$, i.e. $x =
  \inv{f}(y) = \inv{f}(\inv{g}(z))$.

  Thus, for every $z \in Z$, there exists exactly one $x \in X$ such
  that $g \circ f(x) = z$, and this element is
  $\inv{f}(\inv{g}(z))$. This means exactly that $\inv{(g \circ f)} =
  \inv{f} \circ \inv{g}$.
\end{exo}

\bigskip

\begin{exo}{3.4.1}{Let $f : X \rightarrow Y$ be a bijective function,
    and let $\inv{f} : Y \rightarrow X$ be its inverse. Let $V$ be any
    subset of $Y$. Prove that the forward image of $V$ under $\inv{f}$
    is the same as the inverse image of $V$ under $f$; thus the fact
    that both sets are denoted as $\inv{f}$ will not lead to any
    inconsistency.}

  Since ``$\inv{f}(V)$'' may refer to two different things here, let's
  first introduce some notations to avoid any confusion :
  \begin{itemize}
  \item Let $F$ be the \emph{forward image} of $V$ under $\inv{f}$,
    i.e. $F = \{\inv{f}(y) \; | \; y \in V\}$.
  \item Let $I$ be the \emph{inverse image} of $V$ under $f$, i.e.
    $I = \{x \in X \; | \; f(x) \in V\}$.
  \end{itemize}

  In this exercise we must show that $F = I$, so as to ensure that the
  two definitions of $\inv{f}$ are equivalent. So, we will prove that
  $F \subseteq I$ and $I \subseteq F$.

  \begin{enumerate}
  \item Let be $x \in F$. Thus, there exists $y \in V$ such that
    $x = \inv{f}(y)$. By definition, this is equivalent to $f(x) =
    y$. But since $y \in V$, we can say that $f(x) \in V$. Thus, we
    have both $x \in X$ (beacuse $F \subseteq X$) and $f(x) \in V$,
    which means that $x \in I$.
  \item Conversely, let be $x \in I$. By definition, this means that
    $x \in X$ and that $f(x) \in V$, i.e. there exists a certain
    element $y \in V$ such that $y = f(x) \in V$. This latter
    statement is equivalent to $x = \inv{f}(y)$. Thus, we have $x \in
    X$ and $x = \inv{f}(y)$ for a certain $y \in V$, which means that
    $x \in F$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.4.2}{Let $f : X \rightarrow Y$ be a function, let $S$ be
    a subset of $X$ and let $U$ be a subset of $Y$. What, in general,
    can one say about $\inv{f}(f(S))$ and $S$? What about
    $f(\inv{f}(U))$ and $U$?}
  
  This exercise gives a first taste of Exercise 3.4.5 below.

  \begin{enumerate}
  \item First consider $\inv{f}(f(S))$ and $S$.
    \begin{itemize}
    \item Do we have $\inv{f}(f(S)) \subset S$? Generally, no. As an
      counterexample, let's consider $f(x) = x^2$ with $X = Y =
      \rr$ and $S = \{0,2\}$. We have $\inv{f}(f(S)) =
      \inv{f}(\{0,4\}) = \{-2, 0, 2\}$. In this set, we have an
      element, $-2$, which is not an element of $S$.
    \item Do we have $S \subset \inv{f}(f(S))$? Yes. Let be $x \in
      S$. Then, by definition, $f(x) \in f(S)$. So, $x \in X$ and is
      such that $f(x) \in f(S)$: this is precisely the definition of
      $x \in \inv{f}(f(S))$.
    \item Conclusion: generally speaking, $S$ and $\inv{f}(f(S))$ are
      not equal, but $S \subset \inv{f}(f(S))$.
    \end{itemize}
  \item Now consider $f(\inv{f}(U))$ and $U$.
    \begin{itemize}
    \item Do we have $U \subset f(\inv{f}(U))$? Generally, no. As a
      counterexample, let's consider $f(x) = \sqrt{x}$ with $X =
      \rr_+$, $Y = \rr$ and $U = [-1,1]$. We have $f(\inv{f}(U)) =
      f([0,1]) = [0,1]$, which is clearly not a subset of $U$.
    \item Do we have $f(\inv{f}(U)) \subset U$ ? Yes. Let be $y \in
      f(\inv{f}(U))$. By definition, there exists $x \in \inv{f}(U)$
      such that $y = f(x)$. But if $x \in \inv{f}(U)$, we have
      $f(x)\in U$. And since $y = f(x)$, this means that $y \in U$.
    \item Conclusion: generally speaking, $U \neq f(\inv{f}(U))$,
      but $f(\inv{f}(U)) \subset U$.
    \end{itemize}
  \end{enumerate}
\end{exo}

\begin{exo}{3.4.3}{Let $A, B$ be two subsets of $X$, and let be $f : X
    \rightarrow Y$. Show that $f(A \cap B) \subseteq f(A) \cap f(B)$,
    that $f(A) \backslash f(B) \subseteq f(A \backslash B)$, and $f(A
    \cup B) = f(A) \cup f(B)$. Is it true that, for the first two
    statements, the $\subseteq$ relation can be improved to $=$?}
  
  Let's prove the three statements successively:
  \begin{enumerate}
  \item If $y \in f(A \cap B)$, then there exists $x \in A \cap B$
    such that $f(x) = y$. Since $x \in A \cap B$, we have both $x \in
    A$ and $x \in B$, which implies $y = f(x) \in f(A)$ and $y = f(x)
    \in B$ respectively. Thus, $y \in f(A) \cap f(B)$, and we have
    proved that $f(A \cap B) \subseteq f(A) \cap f(B)$.

    However, the converse inclusion is false in general. For instance,
    let's consider the two sets $A = \{1,2\}$, $B = \{2,3\}$ and the
    (non injective) function $f$ defined as the mapping $f(1) = 1$,
    $f(2) = 2$, $f(3) = 1$. We have $f(A) = \{1,2\}$,
    $f(B) = \{1,2\}$, thus $f(A) \cap f(B) = \{1,2\}$. This is not a
    subset of $f(A \cap B) = f(\{2\}) = \{2\}$.
  \item If $y \in f(A) \backslash f(B)$, then there exists $x_0 \in A$
    such that $y = f(x_0)$, but we have $f(b) \neq y$ for all
    $b \in B$. Suppose that $x_0 \in B$: in this case,
    $f(x_0) \neq y$, a contradiction. Thus, $y = f(x_0)$ with
    $x_0 \in A \backslash B$, which proves that
    $f(A) \backslash f(B) \subseteq f(A \backslash B)$.

    However, the converse inclusion is false in general. For instance,
    let's consider the two sets $A = \{1,2,3\}$, $B = \{3\}$ and the
    function $f$ defined as the mapping $f(1) = 1$, $f(2) = 2$,
    $f(3) = 1$. We have $f(A \backslash B) = \{1,2\}$ but
    $f(A) \backslash f(B) = \{2\}$.
  \item If $y \in f(A \cup B)$, then there exists $x \in A \cup B$
    such that $y = f(x)$. If $x \in A$, then $f(x) \in f(A)$, which
    implies $x \in f(A) \cup f(B)$. There is an identical result if $x
    \in B$. Thus, $f(A\cup B) \subseteq f(A) \cup f(B)$.

    Conversely, if $y \in f(A) \cup f(B)$, then we have either $y \in
    f(A)$ or $y \in f(B)$ (or both). In the first case, there exists
    $x \in A$ such that $y = f(x)$. But since $x \in A$, we also have
    $x \in A\cup B$, so that $y \in f(A \cup B)$. The same result
    holds if $y \in B$. Thus, in both cases, $y \in f(A \cup B)$.
  \end{enumerate}
\end{exo}

\begin{exo}{3.4.4}{Let be $f : X \rightarrow Y$ a function, and let
    $A, B$ be subsets of $Y$. Show that
    $\inv{f}(A \cup B) = \inv{f}(A) \cup \inv{f}(B)$, that
    $\inv{f}(A \cap B) = \inv{f}(A) \cap \inv{f}(B)$, and that
    $\inv{f}(A \backslash B) = \inv{f}(A) \backslash \inv{f}(B)$.}
  
  We prove only the first statement here; since only very small
  adjustments are required in its proof to prove the last two ones.

  \begin{itemize}
  \item Let be $x \in \inv{f}(A \cup B)$. By definition, $f(x) \in A \cup
    B$, so that we have either $f(x) \in A$ or $f(x) \in B$.

    If $f(x) \in A$, then $x \in \inv{f}(A)$ by definition. This
    implies that $x \in \inv{f}(A) \cup \inv{f}(B)$.

    The same conclusion holds if $f(x) \in B$. Thus, we have
    demonstrated that
    $\inv{f}(A \cup B) \subseteq \inv{f}(A) \cup \inv{f}(B)$.

  \item For the conserve inclusion, let be $x \in \inv{f}(A) \cup
  \inv{f}(B)$. We have either $x \in \inf{f}(A)$ or $x \in
  \inv{f}(B)$.

  If $x \in \inv{f}(A)$, then $f(x) \in A$, and since
  $A \subset A \cup B$, we have $f(x) \in A \cup B$. This implies
  $x \in \inv{f}(A \cup B)$.

  The same conclusion holds if $x \in \inv{f}(B)$. Thus,
  $\inv{f}(A) \cup \inv{f}(B) \subseteq \inv{f}(A \cup B)$.

  \item This proves the equality $\inv{f}(A \cup B) = \inv{f}(A) \cup
    \inv{f}(B)$.
  \end{itemize}
\end{exo}

\begin{exo}{3.4.5}{Let $f : X \rightarrow Y$ be a function. Show that
    $\inv{f}(f(S)) = S$ for every $S \subseteq Y$ iff $f$ is
    surjective. Show that $f(\inv{f}(S)) = S$ for every $S \subseteq
    X$ iff $f$ is injective.}

  This exercise is a continuation of Exercise 3.4.2. Let's recall its
  results, that will reduce the amount of things to be proven here:
  \begin{itemize}
  \item we always have $\inv{f}(f(S)) \subseteq S$ for every
    $S \subseteq Y$, thus we just have to prove that $f$ is
    surjective iff $S \subseteq \inv{f}(f(S))$ for every
    $S \subseteq Y$.
  \item we always have $S \subseteq f(\inv{f}(S))$ for every
    $S \subseteq X$, thus we just have to prove that $f$ is
    injective iff then $f(\inv{f}(S)) \subseteq S$ for every
    $S \subseteq X$.
  \end{itemize}

  Let's prove those two statements.
  \begin{enumerate}
  \item Let $f$ be surjective: let's show that
    $S \subseteq f(\inv{f}(S))$ for all $S \subseteq Y$. Let $S$ be a
    subset of $Y$, and $y \in S$\footnote{If $S$ is empty, the
      statement is vacuously true, so that we can suppose
      $S \neq \emptyset$.}. Since $f$ is surjective, there exists
    $x \in X$ such that $y = f(x)$. Recall that $y \in S$: this means
    that$f(x) \in S$, i.e. $x \in \inv{f}(S)$. Thus,
    $y = f(x) \in f(\inv{f}(S))$. We have proved that, if $f$ is
    surjective, $y \in S \Rightarrow y \in f(\inv{f}(S))$, i.e.
    $S \subseteq f(\inv{f}(S))$.

    Conversely, suppose that $S \subseteq f(\inv{f}(S))$ for every
    $S \subseteq Y$ and let's show that $f$ is surjective. Let's
    choose $S = Y$: by hypothesis, we have
    $Y \subseteq f(\inv{f}(Y))$. Then, let be $y \in Y$. There exists
    $x \in \inv{f}(Y) \subseteq X$ such that $y = f(x)$. This means
    precisely that $f$ is surjective.

    The first equivalence is proved.

  \item Let $f$ be injective, and $S \subseteq X$. Let be
    $x \in \inv{f}(f(S))$. Thus, by definition, $f(x) \in f(S)$. This
    means that there exists $x' \in f(S)$ such that $f(x) =
    f(x')$. And since $f$ is injective, $x = x' \in S$. Thus, if $f$
    is injective, $\inv{f}(f(S)) \subseteq S$ for every
    $S \subseteq X$.

    Conversely, suppose that $\inv{f}(f(S)) \subseteq S$ for every
    $S \subseteq X$. In particular, this is true for any singleton
    $S = \{x_0\}$, with $x_0 \in S$. In such a case, we obtain
    $\inv{f}(f(\{x_0\})) = \{x_0\}$. For any element $x \in X$, if
    $x \neq x_0$, we have $x \notin \{x_0\}$ by definition of a
    singleton, thus $x \notin \inv{f}(f(\{x_0\}))$, and thus
    $f(x) \neq f(x_0)$. This means that $f$ is injective.

    The second equivalence is proved.    
  \end{enumerate}
\end{exo}

\begin{exo}{3.4.6}{Prove lemma 3.4.9. (Hint: start with the set
    $\{0,1\}^X$ and apply the replacement axiom, replacing each
    function $f$ with the object $f^{-1}(\{1\})$.)}

  First, let's recall the main propositions involved in this exercise:

  \begin{itemize}
  \item \textbf{Replacement axiom}. Let $A$ be a set. For any object
    $x \in A$, and any object $y$, suppose we have a statement
    $P(x,y)$ pertaining to $x$ and $y$, such that for each $x \in A$
    there is at most one $y$ for which $P(x,y)$ is true. Then there
    exists a set
    $\{y \; | \; P(x,y) \text{ is true for some } x \in A\}$, such
    that for any object $z$,
    \[ z \in \{y \; | \; P(x,y) \text{ is true for some } x \in A\}
      \Longleftrightarrow P(x,z) \text{ is true for some } x \in A\]

\item \textbf{Power set axiom}. Let $X$ and $Y$ be sets. There there
  exists a set, denoted $Y^X$, which consists of all the function from
  $X$ to $Y$:
  \[f \in Y^X \Longleftrightarrow (f \text{ is a function from $X$ to
      $Y$}\}\]

\item \textbf{Lemma 3.4.9}. Let $X$ be a set. Then the set
  $\{Y \; | \; Y \text{ is a subset of X}\}$ is a set.
  \end{itemize}

  The aim is to prove this lemma using the two axioms recalled here.

  \begin{enumerate}
  \item Let $X$ be a set, and $Y = \{0,1\}$. Per the power set axiom,
    $\{0,1\}^X$ is a set, and it contains all the functions
    $f : X \rightarrow \{0,1\}$.
  \item Let $A$ be a subset of $X$. One can define the function
    $f_A : X \rightarrow \{0,1\}$, such that for all $x \in X$,
    $f(x) = 1$ if $x \in A$, and $f(x)=0$ otherwise. We can even say
    more:
    \begin{itemize}
    \item If $A$ is a subset of $X$, then there exists an element
      $f \in \{0,1\}^X$ such that $A = f^{-1}(\{1\})$: this is
      precisely $f_A$ as defined above.
    \item Conversely, if $f \in \{0,1\}^X$, then $A = f^{-1}(\{1\})$
      is by definition a subset of $X$.
    \end{itemize}
    Thus, the two statements ``$A$ is a subset of $X$'' and ``there
    exists $f \in \{0,1\}^X$ such that $A = f^{-1}(\{1\})$'' are
    equivalent.
  \item Finally, let be $A \subset X$ and $f \in \{0,1\}^X$. Let's
    define $P(f,A)$ the statement ``$A = f^{-1}(\{1\})$''. For each
    $f$, there is at most one $A$ (in fact, \emph{exactly} one $A$)
    such that $P(f,A)$ is true. Thus, per the axiom of replacement,
    there exists a set:
    \[\mathcal{P} = \{A \; | \; A = f^{-1}(\{1\}) \text{ for some } f \in \{0,1\}^X\}\]
    And, thanks to the equivalence demonstrated in 2.:
    \[ \mathcal{P} = \{A \; | \; A \text{ is a subset of } X\} \]
    is a well-defined set, which we wanted to prove.
  \end{enumerate}
\end{exo}

\begin{exo}{3.4.7}{Let $X, Y$ be sets. Define a partial function
    from $X$ to $Y$ to be any function $f: X' \rightarrow Y'$ with
    $X' \subseteq X$ and $Y'\subseteq Y$. Show that the collection of
    all partial functions from $X$ to $Y$ is itself a set.}
  \begin{itemize}
   \item Let be $X' \subseteq X$ and $Y' \subseteq Y$. If both $X'$
     and $Y'$ are fixed, then per the power set axiom (3.10), there
     exists a set $Y'^{X'}$ which consists of all the functions from
     $X'$ to $Y'$.
   \item By lemma 3.4.9, there exist a set $2^X$ which consists of all
     the subsets of $X$, and a set $2^Y$ which consists of all the
     subsets of $Y$.
   \item Now we \emph{fix} an element $X'$ of $2^X$. Let be $Y'$ an
     element of the set $2^Y$, $A$ a set, and $P$ the property
     ``$P(Y', A)$: $A = Y'^{X'}$''. Per the replacement axiom, there
     exists exactly one (and thus, at most one) set:
     \begin{align*}
       \{A \, | \, P(Y', A) \text{ is true for some } Y' \in 2^Y\}
       &= \{A \, | \, A = Y'^{X'} \text{ for some } Y' \in 2^Y\}\\
       &= \{Y'^{X'} \, | \, Y' \in 2^Y\}
     \end{align*}
   \item Each element of this set is itself a set. Thus we can apply
     the axiom of union (3.11): there exists a set
     $\bigcup \{Y'^{X'} \, | \, Y' \in 2^Y\}$ whose elements are those
     objects which are elements of elements of
     $\{Y'^{X'} \, | \, Y' \in 2^Y\}$, i.e.:

     \[ \bigcup \{Y'^{X'} \, | \, Y' \in 2^Y\} = \{f | f:X'
       \rightarrow Y' \text{ for some } Y' \in 2^Y\}\]

     This set is obtained for one given \emph{fixed} subset
     $X' \subseteq X$, so let's denote this set:
     \[S_{X'} = \{f | f:X' \rightarrow Y' \text{ for some } Y' \in
       2^Y\}\]
   \item Now we apply once again the union set (3.11), especially in
     its second formulation. If we denote $I = 2^X$, then for each
     element $X' \in I$ we do have one set $S_{X'}$, which is defined
     above. Thus, there exists a set
     $\bigcup_{X' \in 2^X} S_{X'} := \bigcup \{S_{X'} \, | \, X' \in
     2^X\}$. And, for every function $f$, we have
     $f \in \bigcup \{S_{X'} \, | \, X' \in 2^X\}$ iff there exists
     $X' \in 2^X$ such that $f \in S_{X'}$, i.e. if there exists
     $X' \subset X$ and $Y' \subset Y$ such that
     $f: X' \rightarrow Y'$.
   \item Consequently, we have proved that there exists a set which
     consists of the collection of all partial functions from $X$ to
     $Y$.
\end{itemize}
\end{exo}

\begin{exo}{3.4.8}{Prove that Axiom 3.4 can be deduced from Axiom 3.1,
  Axiom 3.3 and Axiom 3.11.}

Let's recall very briefly the four axioms involved here :
\begin{itemize}
  \item Axiom 3.4 (to be proved) says that if $A$ and $B$ are sets,
    then there exists a union set $A \cup B$ such that $x \in A \cup
    B$ iff $x \in A$ or $x \in B$.
\item Axiom 3.1 essentially says that sets are objects.
\item Axiom 3.3 says that singletons are pair sets do exist.
\item Axiom 3.11: let $A$ be a set, whose all elements are themselves
  sets. Then there exists a set $\bigcup A$ whose elements are those
  objects which are elements of elements of $A$, i.e., $x \in \bigcup
  A$ iff $x \in S$ for some $S \in A$.
\end{itemize}
\end{exo}

Here is a sketch of proof for Axiom 3.4. Let $A$ and $B$ be
sets. According to Axiom 3.1, $A$ and $B$ are themselves objects: they
can be elements of other sets. Consequently, according to Axiom 3.3,
it makes sense to talk about the singleton sets $\{A\}$ and $\{B\}$,
and the set $\{A, B\}$.

Now we consider this latter set, which we denote $\mathcal{A} = \{A,
B\}$. According to axiom 3.11, there exists a set $\bigcup
\mathcal{A}$ whose elements those objects which are the elements of
$\mathcal{A}$, i.e., $x \in \mathcal{A}$ iff there exists $S \in
\mathcal{A}$ such that $x \in S$. But $\mathcal{A}$ is a pair set with
only two elements, so that $S$ must necessarily be equal to $A$ or
$B$.

This leads to the following conclusion: if $A$ and $B$ are sets, then
there exists a set $\mathcal{A}$ such that $x \in \mathcal{A}$ iff
$x \in A$ or $x \in B$. This is precisely the Axiom 3.4.

\bigskip
\begin{exo}{3.5.1}{Suppose we define the ordered pair $(x,y)$  for any
    objects $x$ and $y$ by the formula $(x,y) := \{\{x\},
    \{x,y\}\}$. Show that  this definition obeys the property (3.5), and
    also whenever $X$ and $Y$ are sets, the cartesian product $X \times
    Y$ is also a set.}

  Recall that property (3.5) says that $(x,y) = (x',y')$ iff $x=x'$
  and $y=y'$. The proof below is heavily inspired by the sketch given
  by Paul Halmos in his famous book, \textit{Naive Set Theory}. (The
  proof below is just immensely more verbose.)

  \begin{enumerate}
  \item First, we go back to Remark 3.1.9 by Terence Tao (page
    37). In this remark, Tao says that for any object $a$, the pair
    set $\{a, a\}$ is in fact the singleton $\{a\}$. Tao asks
    \textit{why?} to the reader. This is easy to prove using the
    Definition 3.1.4 (equality of sets): both sets have the same
    elements, thus they are equal. This fact is a crucial point for
    the current proof.

    Indeed, first note that for any object $x$, the ordered pair
    $(x,x)$ will be (by definition) equal to $\{\{x\},
    \{x,x\}\}$. Applying twice the Remark 3.1.9 made by Terence Tao,
    we can conclude that $(x,x) = \{\{x\}\}$ for any object $x$.
    
    Conversely, if any ordered pair $(x,y)$ is a singleton, this means
    that $\{\{x\}, \{x,y\}\}$ is a singleton. This implies that both
    elements of this pair set are equal, i.e. $\{x\} = \{x,y\}$. Thus,
    (by Definition 3.1.4,) $y \in \{x\}$, i.e. $x=y$.
    
    This gives a handy conclusion, that we can write as a lemma:
    \begin{lem} An ordered pair $(x,y)$ is a singleton if and only
      if $x=y$ (and in this case, this singleton is $\{\{x\}\} =
      \{\{y\}\}$).
    \end{lem}
    We can now prove more easily that property (3.5) is met.
  \item Let's prove that the property (3.5) is satisfied.
    \begin{itemize}
    \item First, let be two ordered pairs $(a,b) = \{\{a\}, \{a,b\}\}$
      and $(x,y) = \{\{x\}, \{x,y\}\}$. If $a=x$ and $y=b$, then we
      obviously have $\{\{a\}, \{a,b\}\} = \{\{x\}, \{x,y\}\}$.
    \item For the reciprocal, suppose that $(a,b) = (x,y)$, and let's
      show that $a=x$ and $b=y$. We will consider two distinct cases.
      \begin{enumerate}[label=\emph{(\alph*)}]
      \item First consider the case where $a=b$ (note that this also
        covers the case $x=y$, since they play symmetrical
        roles). Thus $(a,b) = \{\{a\}\}$. Since $(a,b) = (x,y)$, we have
        $\{\{x\},\{x,y\}\} = \{\{a\}\}$.

        This means that $\{x\} \in \{\{a\}\}$, i.e. $a=x$.

        But we also have $\{x,y\} \in \{\{a\}\}$, i.e. $\{x,y\} =
        \{a\}$. This means in particular that $\{x,y\}$ is a
        singleton, which is only possible if $x=y$ according to the
        lemma introduced above.

        Thus, $a=b$ by hypothesis, and $a=x$, and $x=y$. This finally
        means that all four elements are equal: $a=b=x=y$.

        We can insist: if we have either $a=b$ or $x=y$, then all four
        elements are equal, and property (3.5) is met.
        
      \item The other case is $a \neq b$ (which also implies $x \neq
        y$, otherwise all four elements would be equal). Since $(a,b)
        = (x,y)$, we have $\{a\} \in \{\{x\}, \{x,y\}\}$, so that we
        have either $\{a\} = \{x\}$ or $\{a\} = \{x,y\}$. The latter
        case can be excluded: $\{a\} = \{x,y\}$ would mean that
        $\{x,y\}$ is a singleton, thus $x=y$, a contradiction with our
        hypothesis. Thus, the only possibility is $\{a\} = \{x\}$,
        i.e. $a=x$.

        We also have $\{a,b\} \in \{\{x\}, \{x,y\}\}$, and for the
        same reason, the only possibility is $\{a,b\} = \{x,y\}$. But
        we have showed that $a=x$, so that $\{a,b\} = \{a,y\}$. The
        conclusion is $y=b$.
      \end{enumerate}
        
      \item Conclusion: in both cases, $(a,b)$ implies both $a=x$ and $y=b$,
      which is our initial goal. Property (3.5) is met.
    \end{itemize}
  \item Finally, if we adopt this definition, $X \times Y$ is a
    set. Indeed, for every $x\in X$ and $y \in Y$, both $x$ and $y$
    are elements of $X \cup Y$. Thus, the singleton $\{x\}$ and the
    pair set $\{x,y\}$ are elements of the power set of $X \cup Y$
    (which is indeed a set, by Lemma 3.4.9: see Exercise 3.4.6). In
    other words, if $\partsof{A}$ denotes the power set of a set $A$,
    we have $\{x\} \in \partsof{X \cup Y}$ and
    $\{x,y\} \in \partsof{X \cup Y}$.

    Thus, for every objects $x \in X$ and $y \in Y$,
    $\{\{x\}, \{x,y\}\} \subset \partsof{X \cup Y}$. This latter
    statement is equivalent to $\{\{x\}, \{x,y\}\} \in
    \partsof{\partsof{X \cup Y}}$, which is also a well-defined set by
    a (recursive) application of Lemma 3.4.9.

    Then, for any element $S \in \partsof{\partsof{X \cup Y}}$, let
    $P(S)$ be the property ``There exists $x \in X$ and $y \in Y$ such
    that $S = \{\{x\}, \{x,y\}\}$''. By the axiom of specification
    (Axiom 3.5), there exists a set $\{S \in \partsof{\partsof{X \cup
        Y}} \, | \, P(S) \text{ is true}\}$: this set is precisely the
    cartesian product $X \times Y$ we were looking for.
  \end{enumerate}
\end{exo}

\section{Integers and rationals}
\begin{exo}{4.1.1}{Verify that the definition of equality on the
    integers is both reflexive and symmetric.}

  Recall the Definition 4.1.1 of equality on integers: two integers
  $a \minus b$ and $c \minus d$ are equal iff $a+d = c+b$. This
  defines a binary relation on $\zz$, denoted ``$=$''. Let's show that
  this relation is reflexive and symmetric.

  \begin{itemize}
  \item Reflexivity: let $a$ and $b$ be natural numbers, so that
    $a \minus b$ is an integer. We know that, on natural numbers,
    equality is reflexive, i.e. $a+b = a+b$. This equality means
    precisely that $a \minus b = a \minus b$.
  \item Symmetry: let $a, b, c, d$ be natural numbers. If $a \minus b
    = c \minus d$, do we also have $c \minus d = a \minus b$?

    \[
    \begin{array}{lrcl}
                          & a \minus b  &=& c \minus d \\
      \Longleftrightarrow & a+d &=& c+b \\
      \Longleftrightarrow & c+b &=& a+d \text{ (equality is symmetric
      on naturals})\\
      \Longleftrightarrow & c \minus d &=& a \minus b
    \end{array}
    \]
  \end{itemize}
\end{exo}

\begin{exo}{4.1.2}{Show that the definition of negation on the
    integers is well-defined in the sense that if
    $(a \minus b)=(a' \minus b')$, then
    $-(a \minus b)=-(a' \minus b')$ (so equal integers have equal
    negations).}

  Since $a \minus b = a' \minus b'$, we have $a+b' = a' + b$.

  Also, by Definition 4.1.4 of negation, we have:
  \begin{align*}
    -(a \minus b) &= b \minus a \\
    -(a' \minus b') &= b' \minus a' \\
  \end{align*}

  Then, we have successively:
  \begin{align*}
    b + a' &= a' + b \text{ (addition is commutative on naturals,
             Prop. 2.2.4)}\\
           &= a + b' \text{ (initial hypothesis)}\\
           &= b' + a \text{ (by commutativity on naturals once again)}
  \end{align*}
  and this equality $b+a' = b'+a$ precisely means that $b \minus a =
  b' \minus a'$, i.e. that $-(a \minus b) = -(a' \minus b')$.
\end{exo}

\bigskip
\begin{exo}{4.1.3}{Show that $(-1) \times a = -a$ for every integer
    $a$.}

  Since $a$ is an integer, there exist two natural numbers $n$ and $m$
  such that $a = m \minus n$.
  
  On the one hand, by Definition 4.1.4, $-a = n \minus m$.

  On the other hand, using once again Definition 4.1.4 and Definition
  4.1.2,
  \begin{align*}
    (-1) \times a &= (0 \minus 1) \times (m \minus n) \\
                  &= (0 \times m + 1 \times n) \minus (0 \times n + 1
                    \times m) \\
                  &= n \minus m
  \end{align*}

  Thus, we have indeed $(-1) \times a = -a$.
\end{exo}

\bigskip
\begin{exo}{4.1.4}{Prove the remaining identities in Proposition
    4.1.6.}

  Let $x = a \minus b$, $y = c \minus d$ and $z = e \minus f$ be three
  integers. Those identities are the following:

  \begin{enumerate}
  \item $x+y = y+x$, i.e., we must prove that addition is commutative
    on the integers. We have:
    \begin{align*}
      x+y &= (a \minus b) + (c \minus d) \\
          &= (a+c) \minus (b+d) \text{ (by Definition 4.1.2)} \\
          &= (c+a) \minus (d+b) \text{ (addition is commutative on
            naturals)} \\
          &= (c \minus d) + (a \minus b) \text{ (by Definition 4.1.2
            again)} \\
          &= y + x
    \end{align*}
  \item $(x+y)+z = x+(y+z)$, i.e. prove that addition is associative on the
    integers. This is a very similar proof, and this is a direct
    consequence of associativity of addition on the naturals.
  \item $x+0 = 0+x = x$. We have already showed that addition is
    commutative on the integers, so we just have to prove that $x+0=x$.
    \begin{align*}
      x + 0 &= (a \minus b) + (0 \minus 0) \\
            &= (a+0) \minus (b+0) \\
            &= a \minus b = x.
    \end{align*}
  \item $x + (-x) = (-x)+x = 0$. Once again, thanks to the previous
    result about commutativity, we just have to prove that $x + (-x) =
    0$.
    \begin{align*}
      x + (-x) &= (a \minus b) + (b \minus a) \text{ (by Definition
                 4.1.4)} \\
               &= (a+b) \minus (b+a) \text{ (by Definition
                 4.1.2)} \\
               &= (a+b) \minus (a+b) \text{ (addition is commutative on
                 naturals)} \\
               &= 0 \text{ (because $m \minus m = 0 \minus 0$ for all integer $m$)}
    \end{align*}
  \item $xy = yx$, i.e. multiplication is commutative on the integers.
    \begin{align*}
      xy &= (a \minus b) \times (c \minus d) \\
         &= (ac+bd) \minus (ad+bc) \text{ (by Definition 4.1.2)}\\
         &= (ca+db) \minus (da+cb) \text{ (multiplication is
           commutative on the naturals)}\\
         &= yx \text{ (by Definition 4.1.2)}
    \end{align*}
  \item $(xy)z = x(yz)$, i.e. multiplication is associative on the
    integers. This is actually the only identity proved in the main
    text by Terence Tao.
  \item $x1 = 1x = x$. The equality between the first two terms is a
    direct consequence of commutativity of multiplication on the
    integers. We just have to prove that $x1 = x$. And indeed, $x1 =
    (a \minus b) \times (1 \minus 0) = (a1 + b0) \minus (b1 + a0) = a
    \minus b = x$.
  \item $x(y+z) = xy+xz$, i.e. show distributivity on the integers. On
    the left side, we have:
    \begin{align*}
      x(y+z) &= (a \minus b)\left((c \minus d) + (e \minus f)\right)
      \\
             &= (a \minus b)\left((c+e) \minus (d+f) \right) \\
             &= \left(a(c+e) + b(d+f) \right) \minus \left(a(d+f) +
               b(c+e)\right) \\
             &= \left((ac+ae+bd+bf)\right) \minus
               \left((ad+af+bc+be)\right)
    \end{align*}
    and then on the left side:
    \begin{align*}
      xy+xz &= (a \minus b) (c \minus d) + (a \minus b)(e \minus f)\\
            &= \left((ac+bd) \minus (ad+bc)\right) + \left((ae+bf)
              \minus (af + be)\right)\\
            &= \left((ac+ae+bd+bf)\right) \minus \left((ad+af+bc+be)\right)
    \end{align*}
  \item $(y+z)x = yx + zx$. This latter identity is a direct
    consequence of commutativity of multiplication on the integers,
    and distributivity on the integers, both being already proved
    earlier in this exercise.
  \end{enumerate}  
\end{exo}

\begin{exo}{4.1.5}{Prove Proposition 4.1.8, i.e.: let $x$ and $y$ be
    integers such that $xy = 0$, then either $x=0$ or $y=0$ (or both).}

  We will use here Lemma 4.1.5 (trichotomy of integers, which says
  that any integer is either zero, or equal to a positive natural
  number, or the negation of a positive natural number), and Lemma
  2.3.3 (which provides an equivalent of Proposition 4.1.8 for natural
  numbers only). We will prove the proposition for (all) three
  possible cases: $x=0$, $x$ is a positive natural number, $-x$ is a
  positive natural number.

  $y$ will be considered as a fixed integer, $y = c \minus d$ with
  $c,d$ natural numbers.

  \begin{enumerate}
  \item First let's take the case $x=0$. There is nothing to prove
    here, the proposition is obviously true.
  \item Then let's take the case where $x$ is a positive natural
    number (and, consequently, is not equal to zero). In this case, as
    an integer, $x$ can be written $n \minus 0$ with $n$ a positive
    natural number.

    We have $xy = (n \minus 0) \times (c \minus d) = (nc +
    0d) \minus (nd + 0c) = nc \minus nd$.

    Thus, $xy = 0$ iff $nc \minus nd = 0 \minus 0$, and by Definition
    4.1.1, this means that $nc = nd$. But since all three $n,c,d$ are
    natural numbers, we can use the cancellation law for natural
    numbers and conclude that $c=d$.

    This means that $y = c \minus c = 0 \minus 0 = 0$. Thus, in this
    case, if $xy=0$ with $x$ non-zero, we have showed that $y$ is
    necessarily equal to 0.
  \item Finally, let's take the case where $x$ is the opposite of a
    positive natural number $n$, i.e. $x = 0 \minus n$. A very similar
    proof also leads to $c=d$, and to $y=0$.
  \end{enumerate}
\end{exo}

\begin{exo}{4.1.6}{Prove Corollary 4.1.9, i.e. if $a,b,c$ are integers
    such that $ac = bc$ and $c$ is non-zero, then $a=b$.}

  If $ac = bc$, then $ac + (-bc) = bc + (-bc) = 0$. Thus, $ac - bc =
  0$.

  Let's use the property of distributivity (Proposition 4.1.6): we
  obtain $(a-b)c = 0$. According to Proposition 4.1.8 (see also the
  previous exercise), this implies either $c=0$ or $a-b=0$. The first
  option ($c=0$) must be discarded since it does not fit the initial
  hypothesis. The only possibility is thus $a-b = 0$, and adding
  $b$ to both sides finally leads to $a=b$.
\end{exo}

\bigskip

\begin{exo}{4.1.7}{Prove Lemma 4.1.11.}
  
  The statements to prove are the following:

  \begin{enumerate}
  \item Show that $a>b$ if and only if $a-b$ is a positive natural
    number.

    First suppose that $a>b$. This means (Definition 4.1.10) that
    there exists a natural number $n$ such that $a = b+n$, and
    $a \neq b$. Then, we add to both sides the opposite of $b$, and we
    get $a + (-b) = b + n + (-b)$, i.e. $a-b = n$. In this latest
    equality, $n$ cannot be zero, otherwise we would have $a=b$, which
    is excluded. The first implication is proved.

    Then suppose that $a-b =n$ with $n$ a positive natural
    number. Adding $b$ to both sides leads to $a = b+n$, i.e. $a \geq
    b$. We cannot have $a=b$, because this would be a contradiction
    with the fact that $n \neq 0$. Thus, $a > b$.

  \item Show that addition preserves order, i.e. if $a>b$, then $a+c >
    b+c$.

    Suppose that $a>b$. According to the previous point, this
    means that $a-b = n$, with $n$ a positive natural number. Then, we
    get successively:
    \[
      \begin{array}{rcll}
      a &=& b+n &\text{ (by adding $b$ to both sides)}\\
      a+c &=& b+c+n &\text{ (by adding $c$ to both sides)}\\
      a + c -b -c &=& n &\text{ (by adding $(-b) + (-c)$ to both sides)}\\
      a+c - (b+c) &=& n &\text{ (by using the distributive law and
                    Exercise 4.1.3)}
      \end{array}
    \]
    Using again the previous point, since $(a+c) - (b+c)$ is equal to
    a positive natural number, we can conclude that $a+c > b+c$.
    
  \item Show that positive multiplication preserves order, i.e. if
    $a>b$ and $c$ is positive, then $ac > bc$.

    Since $a>b$, according to the first point of this exercise, we
    have $a-b=n$, with $n$ a positive natural number. According to the
    distributive law, $(a-b)c =ac-bc$. But we also have $(a-b)c = nc$,
    and $nc$ is a positive natural number (as product of two positive
    numbers, see Lemma 2.3.3). Thus, $ac-bc$ is equal to a positive
    number, which means that $ac > bc$.
    
  \item Show that negation reverses order, i.e. if $a>b$, then
    $-a<-b$.

    Here, we will need a small lemma, which says that for any natural
    number $n$, we have $n = -(-n)$. There are several ways to show
    this result: either by proving that $(-1) \times (-1) = 1$ and
    using Exercise 4.1.3, or simply by noting that $n + (n) = 0$ for
    all $n$, which means that $n$ is the opposite of $-n$ (i.e., $n =
    -(-n)$).

    Now this point is easy to prove. $a>b$ means that $a-b$ is a
    positive number, as shown earlier in this exercise. We want to
    prove that $-a < -b$, and proving this assertion requires to show
    that $-b -(-a)$ is a positive number. But $-b-(-a) = -b+a = a-b$,
    which is a positive natural number. Thus we are done.
    
  \item Show that order is transitive, i.e. if $a>b$ and $b>c$, then
    $a>c$.

    Still using the first point of this exercise, we have $a-b=n$ and
    $b-c=m$, with $n,m$ two positive natural numbers. We know that
    $n+m$ is positive as the sum of two positive numbers, thus
    $n+m = a-b+b-c = a-c$ is positive. This means that $a>c$.
    
  \item Show order trichotomy, i.e.: exactly one of the statements
    $a>b$, $a<b$, or $a=b$ is true.
    \begin{itemize}
    \item If $a=b$, then obviously (exactly) one of those statements is
    true.
    \item Now consider the case $a \neq b$, and let's show that we
    have either $a>b$ or $a<b$ (and cannot have both).

    Let's consider the integer $a-b$. By trichotomy of integers (Lemma
    4.1.5), we know that we have either $a-b=0$ (which is excluded
    here), or $a-b=n$ with $n$ positive, or $a-b = -n$ with $n$
    positive.

    If $a-b = n$, then $a>b$ according to the first point of this
    exercise. If $a-b = -n$, then $-n = -(a-b) = b-a$, thus $b>a$.

    Finally, we just have to show that we cannot have both $a>b$ and
    $b>a$ at the same time. If $a>b$, then the integer $a-b$ is
    positive. If $b>a$, then $b-a$ is positive, i.e. $-(b-a) = a-b$ is
    the opposite of a positive natural. Thus, $a-b$ is both positive
    and the opposite of a positive number, which is excluded by the
    trichotomy of integers.
    \end{itemize}
  \end{enumerate}
\end{exo}

\begin{exo}{4.1.8}{Show that the principle of induction (Axiom 2.5)
    does not apply directly to the integers. More precisely, give an
    example of a property $P(n)$ pertaining to an integer $n$ such
    that $P(0)$ is true, and that $P(n)$ implies $P(n{{+}\!{+}})$ for
    all integers $n$, but that $P(n)$ is not true for all integers
    $n$.}

  According to Lemma 4.1.5, an integer is either equal to 0, or equal
  to a positive natural number, or equal to the negation of a positive
  natural number.

  Let's define $P(n)$ as the property ``The integer $n$ is a natural
  number, i.e. is either equal to 0 or equal to a positive natural
  number''. Obviously, $P(0)$ is true. Furthermore, if $n$ is a
  natural number, then $\successor{n}$ is also a natural number (Axiom
  2.2), so that if $P(n)$ is true, then $P(\successor{n})$ is
  true. Thus, $P(n)$ matches the required condtions.

  However, $P(-1)$ is obviously false.
\end{exo}

\bigskip
\begin{exo}{4.2.1}{Show that the definition of equality for the
    rational numbers is reflexive, symmetric, and transitive.}

  This exercise ressembles Exercise 4.1.1, and the same approach
  applies. Recall the Definition 4.2.1: two rational numbers
  $a \quot b$ and $c \quot d$ are equal iff $ad=bc$. This defines a
  binary relation on $\qq$, denoted ``$=$''. Let's show that this
  relation is reflexive, symmetric and transitive.

  Hereafter, $a, b, c, d, e, f$ are integers (and $b,d,f$ are
  non-zero).

  \begin{itemize}
  \item Reflexivity: here we must prove that $a \quot b = a \quot
    b$. This is the case iff $ab = ba$, with is true because of
    (commutativity of multiplication on $\zz$ and) reflexivity of
    equality on $\zz$.
  \item Symmetry: here we must prove that if $a \quot b = c \quot d$,
    we also have $c \quot d = a \quot b$. We have successively:    
    \[\begin{array}{lrcl}
                          & a \quot b  &=& c \quot d \\
      \Longleftrightarrow & ad &=& bc \\
      \Longleftrightarrow & da &=& cb \text{ ($\times$ is commutative
                                   on $\zz$)}\\
      \Longleftrightarrow & cb &=& da \text{ ($=$ is symmetric
                                   on $\zz$)}\\
      \Longleftrightarrow & c \quot d &=& a \quot b
    \end{array}\]
  \item Transitivity: here we must prove that if $a \quot b = c \quot d$
    and $c \quot d = e \quot f$, then $a \quot b = e \quot f$. I.e.,
    we must prove that if $ad=bc$ and $cf = de$, then $af=be$.

    Let's multiply by $e$ both sides of the equality $ad=bc$: we get
    $ade = bce$. Since $de=cf$, we also get $acf=bce$.

    In this latest equality, using the cancellation law (Corollary
    4.1.9) for $c$ would lead to $af=be$, which would close the
    proof. However, unlike $b$, $d$ or $f$, the integer $c$ may be
    equal to 0, and in this case we cannot use the cancellation
    law. There are thus two different cases:
    \begin{itemize}
    \item If $c \neq 0$, we simply use the cancellation law: since
      $acf=bce$, then $af=be$, which means that
      $a \quot b = e \quot f$.
    \item If $c=0$, then $bc = 0$. But since $ad = bc$, we also have
      $ad = 0$, and we know that $d \neq 0$. According to Proposition
      4.1.8, this leads to $a=0$. A similar reasoning leads to
      $e=0$. Thus, $a=c=e=0$, and $0=af=be$, which means
      $a \quot b = e \quot f$.
    \end{itemize}
  \end{itemize}

\end{exo}

\begin{exo}{4.2.2}{Prove the remaining components of Lemma 4.2.3.}

  Let $a \quot b = a' \quot b'$ be two rationals; let $c \quot d = c'
  \quot d'$ be two rationals. The remaining claims are the following:

  \begin{itemize}
  \item Prove that $-(a' \quot b') = -(a \quot b)$. This equality
    holds iff $(-a') \quot b' = (-a) \quot b$, i.e. iff $(-a')b =
    b'(-a)$. We have successively:
    \begin{align*}
      (-a')b &= (-1)a'b \text{ (see Exercise 4.1.3)} \\
             &= (-1)ab' \text{ (because $a \quot b = a' \quot b'$)} \\
             &= (-a)b' \text{ (using Exercise 4.1.3 one again)}
    \end{align*}
    Thus we are done.
  \item Prove that
    $(a \quot b) \times (c \quot d) = (a' \quot b') \times (c \quot
    d)$. To prove this equality, we must show that
    $(ac) \quot (bd) = (a'c) \quot (b'd)$. By definition of equality
    between rationals, this holds iff $acb'd = bda'c$. Since
    $ab'=ba'$, the claim follows (using commutativity of
    multiplication on integers\footnote{This kind of precision about
      very basic properties of naturals and integers will not be
      mentioned anymore.}).
  \item Prove that $(a \quot b) \times (c \quot d) = (a \quot b)
    \times (c' \quot d')$. To prove this equality, we must show that
    $(ac) \quot (bd) = (ac') \quot (bd')$. By definition of equality
    between rationals, this holds iff $acbd' = bdac'$. Since
    $cd'=dc'$, the claim follows.
  \end{itemize}
\end{exo}

\begin{exo}{4.2.3}{Prove the remaining components of Proposition
    4.2.4.}

  Let $x = a \quot b$, $y = c \quot d$, and $z=e \quot f$ be rational
  numbers, with $a,c,e$ integers, and $b,d,f$ non-zero integers. The
  remaining claims are the following:

  \begin{enumerate}
  \item $x+y = y+x$, i.e. addition is commutative for the
    rationals.

    On the one hand, we have $x+y = a \quot b + c \quot d =
    (ad + bc) \quot bd$.

    On the other hand, $y + x = c \quot d + a \quot b = (cb + da)
    \quot db = (ad + bc) \quot bd$ using the commutativity of addition
    and multiplication on the integers. Thus, the two expressions are
    equal.
  \item $(x+y) + z = x + (y+z)$: already proved in the book.
  \item $x+0 = 0 + x = x$. By the first point of this exercise, we
    already know that $x+0 = 0+x$, so we have just to show that
    $x+0=x$. We have $x+0= a \quot b + 0 \quot 1 = (a1+b0) \quot (b1) = a
    \quot b = x$, which is the required result.
  \item $x + (-x) = (-x) + x = 0$. Once again, the part $x + (-x) =
    (-x) + x$ comes from the first point of this exercise, so we just
    have to prove that $x + (-x) = 0$. We have $x + (-x) = a \quot b +
    -(a \quot b) = a \quot b + (-a) \quot b = (ab - ba) \quot b^2 = 0
    \quot b^2$. But we know that $0 \quot m = 0 \quot 1 = 0$ for all non-zero
    integer $m$, since $0 \times 1 = m \times 0$. Thus, $x + (-x) = 0
    \quot b^2 = 0$, as required.
  \item $xy = yx$, i.e. multiplication is commutative on the
    rationals. Indeed, $xy = (a \quot b) \times (c \quot d) = (ac)
    \quot (bd)$ by definition. On the other hand, $yx = (c \quot d)
    \times (a \quot b) = (ca) \quot (db) = (ac) \quot (bd)$ by
    commutativity of multiplication on the integers. Thus, $xy = yx$.
  \item $(xy)z = x(yz)$, i.e. multiplication is associative on the
    rationals. We have $(xy)z = (ace) \quot (bdf) = x(yz)$ by
    associativity of multiplication on the integers.
  \item $x1 = 1x = x$. Once again, we already know that $x1 = 1x$,
    thanks to the fifth point of this exercise. So we just have to
    show that $x1 = x$. We have $x1 = (a \quot b) \times (1 \quot 1) =
    (a1) \quot (b1) = a \quot b = x$.
  \item $x(y+z) = xy+xz$, i.e. distributivity of multplication for the
    rationals. On the one hand, we have:
    \begin{align*}
      x(y+z) &= (a \quot b) (c \quot d + e \quot f) \\
             &= (a \quot b) ((cf + de) \quot (df)) \\
             &= (acf + ade) \quot (bdf)
    \end{align*}
    On the other hand\footnote{We use implicitly here the fact that
      $(nm) \quot n = m \quot 1$ for all integers $n,m$ with $m \neq
      0$, which is straightforward to prove.}:
    \begin{align*}
      xy + xz &= (a \quot b)(c \quot d) + (a \quot b)(e \quot f) \\
              &= (ac) \quot (bd) + (ae) \quot (bf) \\
              &= (acbf + bdae) \quot (b^2df) \\
              &= (acf + ade) \quot (bdf)
    \end{align*}
    Thus we have indeed $x(y+z) = xy+xz$.
  \item $(y+z)x = yx+zx$. This can be deduced immediately from
    commutativity of multiplication and the eighth point of this
    exercise.
  \item For all $x \neq 0$, $xx^{-1} = x^{-1}x = 1$. Once again, the
    part $xx^{-1} = x^{-1}x$ comes from the fifth point of this
    exercise, so that we just have have to show that $xx^{-1} = 1$.
    \begin{align*}
      x\inv{x} &= (a \quot b) \times (b \quot a) \\
               &= (ab) \quot (ba) \\
               &= 1 \quot 1 = 1
    \end{align*}
  \end{enumerate}
\end{exo}

\begin{exo}{4.2.4}{Prove Lemma 4.2.7. (trichotomy of rationals), i.e.,
    if $x$ is a rational number, then exactly one of the following
    three statements is true: (a) $x$ is equal to 0, (b) $x$ is a positive
    rational number, or (c) $x$ is a negative rational number.}

  Following the hint given by Terence Tao, we'll first prove that
  \emph{at least} one of those statements is true, and then that
  \emph{at most} one of them is true. Let be $x = a \quot b$, where
  $a$ is an integer and $b$ a non-zero integer.

  \begin{enumerate}
  \item Let's prove that at least one of those statements is
    true.

    First, an obvious case: if $a=0$, then $x = a \quot b = 0$,
    thus one of the statements is true. Now consider the case where $a
    \neq 0$. By the trichotomy of integers, $a$ can be either positive
    or negative. Similarly, $b$ can also be either positive or
    negative (it cannot be null, by definition). Thus, there are four
    main cases:

    \begin{itemize}
    \item $a>0$ and $b>0$. Here, by Definition 4.2.6, $x = a \quot b$
      is positive.
    \item $a>0$ and $b<0$. Here, $b = -m$, with $m$ a positive natural
      number. Thus, $x = a \quot (-m)$. But $a \quot (-m) = (-a) \quot
      m$ (this is easy to verify: $am = (-a)(-m)$). This means that $x
      = (-a) \quot m$, with both $a$ and $m$ positive, i.e. $x$ is
      negative.
    \item $a<0$ and $b>0$. Here, $x = a \quot b$ is negative by
      Definition 4.2.6.
    \item $a<0$ and $b<0$. Here, we can say that $a=-n$ and $b=-m$,
      with $n,m$ positive natural numbers. Thus, $x = (-n) \quot (-m)
      = n \quot m$ (once again, this latest equality is easy to
      verify). Thus, $x$ is positive.
    \end{itemize}
    Conclusion: if all four cases, at least one of the three
    properties is true.
  \item Now prove that at most one of those statements is true.
    \begin{itemize}
    \item Suppose, for the sake of contradiction, that we have both
      $x=0$ and $x$ positive. On the one hand, ``$x=a \quot b=0$''
      implies that $a=0$ (see Terence Tao's remark, page 83). On the
      other hand, ``$x$ is positive'' implies that $a>0$. So we would
      have both $a=0$ and $a$ positive, which is not compatible with
      the trichotomy of integers.
    \item A similar argument holds if we suppose both $x=0$ and $x$
      negative.
    \item Now suppose that we have both $x$ positive and $x$ negative,
      i.e. $x = c \quot d = (-n) \quot m$, with $c,d,n,m$ positive
      natural numbers. Thus, we should have $cm = (-n)d$. On the one
      hand, $cm$ is positive, as the multiplication of two positive
      natural numbers. On the other hand, $(-n)d = -(nd)$ is
      negative. The equality $cm = -nd$ is thus impossible.
    \end{itemize}
    Conclusion: all three statements are mutually exclusive.
  \end{enumerate}
\end{exo}

\begin{exo}{4.2.5}{Prove Proposition 4.2.9.}

  Let $x,y,z$ be rational numbers. This proposition includes the
  following statements:

  \begin{enumerate}
  \item Prove that exactly one of the three statements $x=y$, $x < y$, or $x > y$
    is true.

    This statement is very close to Lemma 4.2.7, proved in the
    previous exercise. Let's consider the rational number
    $x-y$. According to the trichotomy of rationals, this number can
    be either zero, positive or negative (exactly one of these
    statements is true).

    If $x-y = 0$, then $x=y$. If $x-y$ is positive, then $x>y$. And if
    $x-y$ is negative, then $x<y$. Thus, the order trichotomy is
    a direct consequence of the ordering of rationals.
  \item Prove that one has $x < y$ if and only if $y > x$.

    Since $x<y$, the rational number $x-y$ is negative, and can be
    written $(-a) \quot b$ for positive integers $a,b$. And since $x-y
    = -a \quot b$, we have $a \quot b = y-x$, i.e. $y-x$ is positive,
    i.e. $y>x$.
  \item Prove that if $x < y$ and $y < z$, then $x < z$.

    Since $x<y$, $x-y$ is negative. Similarly, $y-z$ is negative. This
    means that $x-y$ can be written $(-a) \quot b$, and $y-z$ can be
    written $(-c) \quot d$, with $a,b,c,d$ positive integers.

    On the one hand, their sum is $x-z$. On the other hand, their sum
    is $((-ad) + (-cb)) \quot (bd)$. This latest expression is a
    negative rational, thus we have $x<z$.
  \item Prove that if $x < y$, then $x+z < y+z$.

    Suppose that $x < y$. Thus, $x-y$ is negative. But we have, for
    any rational $z$, $x-y = (x+z) - (y+z)$, and thus this latter
    expression is also negative. This means that $x+z < y+z$.
  \item Prove that if $x < y$ and $z$ is positive, then $xz < yz$.

    Since $x<y$, the rational number $x-y$ is negative. Furthermore,
    we know (by Proposition 4.2.4) that $xz-yz = (x-y)z$. In the
    expression $(x-y)z$, $z$ is supposed to be positive and $x-y$ is
    negative, thus their product is negative\footnote{This is never
      explicitly mentioned in the book. However, using Exercise 4.1.3,
      we know that for every integer $a$, we have $-a = (-1) \times
      a$. So let's consider the product $n(-m)$ where $n,m$ are
      positive integers: this product is $(-1)nm = -(nm)$, and thus is
      negative.}. This means that $xz < yz$.
  \end{enumerate}
\end{exo}

\begin{exo}{4.2.6}{Show that if $x,y,z$ are rational numbers such that
    $x<y$ and $z$ is negative, then $xz>yz$.}

  If $x<y$, then $x-y$ is negative. Thus, $(x-y)z$ is the product of
  two negative rationals: it is a positive
  rational\footnote{Similarly, if $x$ and $y$ are negative, then $-x$
    and $-y$ are positive, and their product $(-x)(-y) =
    (-1)(-1)xy=xy$ is positive by definition. This can also be deduced
    from Proposition 4.2.9(e), by choosing $x=0$.}.

  But $(x-y)z = xz - yz$ by Proposition 4.2.4. And since we have
  showed that this number is positive, we have $xz>yz$.
  
  Note: in particular, this exercise says that if $x>y$, then $-x<-y$
  (with $z=-1$).
\end{exo}

\bigskip
\begin{exo}{4.3.1}{Prove Proposition 4.3.3.}

  Let $x,y,z$ be rational numbers. The statements to prove are the
  following:

  \begin{enumerate}
    \item Show that $\abs{x} \geq 0$ for all $x$, and that $\abs{x} =
      0$ iff $x=0$.

      There are three cases:
      
      \begin{itemize}
      \item if $x=0$, then $\abs{x} := 0$, thus we have in particular
        $\abs{x} \geq 0$.
      \item if $x > 0$, then $\abs{x} := x$, thus $\abs{x} > 0$. And in
        particular, this means that $\abs{x} \geq 0$.
      \item if $x < 0$, then $\abs{x} := -x$, thus $\abs{x} > 0$. And
        in particular, $\abs{x} \geq 0$.
      \end{itemize}

      We can note that the only case where $\abs{x} = 0$ is when
      $x=0$. Thus, by trichotomy of rationals, $\abs{x} = 0$ iff
      $x=0$.
    \item Show that $\abs{x+y} \leq \abs{x} + \abs{y}$.

      \begin{itemize}
      \item If $x=0$ or $y=0$, this is immediate.
      \item If $x>0$ and $y>0$, $x+y$ is positive, thus
        $\abs{x+y} = x+y = \abs{x} + \abs{y}$.
      \item If $x<0$ and $y<0$, $x+y$ is negative, thus $\abs{x+y} =
        -(x+y) = -x-y$. On the other hand, $\abs{x} + \abs{y} = -x -y$.
      \item Finally, the case where $x$ and $y$ are of opposite
        signs. Say that $x$ is positive and $y$ negative, but they are
        exchangeable. On the one hand, $\abs{x} + \abs{y} = x-y >
        0$. On the other hand, $\abs{x+y}$ can be either equal to
        $x+y$ if $x+y>0$, i.e. if $x>-y$; or equal to $-x-y$ if
        $x+y<0$, i.e. if $x<-y$.

        In the first case, since $-y<0<y$ by hypothesis, we have
        $\abs{x+y} = x+y < x-y = \abs{x} + \abs{y}$.

        In the second case, since $-x < 0 < x$ by hypothesis, we have
        $\abs{x+y} = -x-y < x-y = \abs{x} + \abs{y}$.
      \end{itemize}
      Conclusion: in all cases, we have indeed $\abs{x+y} \leq \abs{x}
      + \abs{y}$.
    \item Show that $-y \leq x \leq y$ iff $y \geq \abs{x}$. (Thus, in
      particular, $-\abs{x} \leq x \leq \abs{x}$.)

      \begin{itemize}
      \item First suppose that $y \geq \abs{x}$. Note that, whatever
        could be the value of $x$, we have necessarily $y \geq 0$
        according to the first point of this exercise. Now we can
        split into three cases.

        If $x=0$ then $y \geq 0$ and the claim is immediate.

        If $x > 0$, then $\abs{x} = x$, and the part $y \geq x$ is
        immediate. Furthermore, the other part $-y \leq x$ is also
        immediate since $-y$ is negative and $x$ is positive.

        If $x < 0$, then $\abs{x} = -x$, thus we have $y \geq -x$,
        i.e. $-y \leq x$ according to Exercise 4.2.6. Additionally,
        the part $x \leq y$ is immediate since $x$ is negative and $y$
        is positive.
      \item Conversely, suppose that $-y \leq x \leq y$. If
        $x \geq 0$, then $\abs{x} = x$, thus the rightmost inequality
        gives $x = \abs{x} \leq y$. In the other case, if $x < 0$,
        then $\abs{x} = -x$. The leftmost inequality $-y \leq x$ leads
        (according to Exercise 4.2.6) to $y \geq -x$, i.e.
        $y \geq \abs{x}$.
      \end{itemize}
    \item Show that $\abs{xy} = \abs{x} \times \abs{y}$. (In particular,
      $\abs{-x} = \abs{x}$.)

      Once again, we can split into several cases, as in the second
      point of this exercise.

      \begin{itemize}
      \item If $x=0$ or $y=0$, both sides of the equality are zero
        (cf. the first point of this exercise), thus the claim is
        immediate.
      \item If $x>0$ and $y>0$, the product $xy$ is also
        positive. Thus, $\abs{xy} = xy$, and $\abs{x}\times \abs{y} =
        xy$, and the claim follows.
      \item If $x<0$ and $y<0$, then the product $xy$ is positive, and
        $\abs{xy} = xy$. On the other hand, $\abs{x} \times \abs{y} =
        (-x)(-y) = xy$, and the claim follows.
      \item If $x$ and $y$ are of opposite signs (say $x$ positive and
        $y$ negative, but they are exchangeable), then $xy$ is
        negative, and $\abs{xy} = -xy$. On the other hand, $\abs{x}
        \times \abs{y} = -xy$, thus the claim follows.
      \end{itemize}

    \item Show that $d(x,y) \leq 0$ for all $x,y$, and that $d(x,y) = 0$ iff $x=y$.
      
      We have $d(x,y) = \abs{x-y} \geq 0$ according to the first point
      of this exercise. Furthermore, still according to the first point, $d(x,y) =
      \abs{x-y} = 0$ iff $x-y = 0$, i.e. $x=y$.
    \item Show that $d(x,y) = d(y,x)$.
      
      We have $d(x,y) = \abs{x-y}$ and $d(y,x) = \abs{y-x}$ by
      definition. But $\abs{y-x} = \abs{-(x-y)} = \abs{x-y}$ according
      to the fourth point of this exercise.
    \item Show that $d(x,z) = d(x,y) + d(y,z)$.
      
      We have $d(x,z) = \abs{x-z} = \abs{(x-y) + (y-z)} \leq \abs{x-y} +
      \abs{y-z}$ according to the second point of this exercise. The
      claim follows.
    \end{enumerate}
\end{exo}

\begin{exo}{4.3.2}{Prove the remaining claims in Proposition 4.3.7.}

  Let $x,y,z,w$ be rational numbers.

  \begin{enumerate}
  \item If $x=y$, then $d(x,y)=0$ according to Proposition
    4.3.3(e). Thus, $d(x,y) \leq \epsilon$ for any positive number
    $\epsilon$.

    Conversely, suppose that $d(x,y) \leq \epsilon$ for any
    $\epsilon > 0$, and let's prove that $x=y$. Suppose, for the the
    sake of contradiction, that $x \neq y$; and let be
    $\epsilon = \abs{x-y}/2$. Since $x \neq y$, we have $\abs{x-y}>0$,
    thus $\epsilon$ is a positive number. Furthermore,
    $d(x,y) = \epsilon + \epsilon$, thus $d(x,y) > \epsilon$, which is
    a contradiction.
  \item This is a direct consequence from Proposition
    4.3.3(f). Indeed, since $d(x,y) = d(y,x)$, we obviously have
    $d(y,x) \leq \epsilon$ when $d(x,y) \leq \epsilon$.
  \item Suppose that $d(x,y) \leq \epsilon$ and $d(y,z) \leq
    \delta$. Thus, by triangle inequality, $d(x,z) \leq d(x,y +
    d(y,z) \leq \epsilon + \delta$.
  \item Suppose that $d(x,y) \leq \epsilon$ and $d(z,w) \leq
    \delta$. Thus,
    \begin{align*}
      d(x+z, y+w) &= \abs{(x+z) - (y+w)}\\
                  &= \abs{(x-y) + (z-w)}\\
                  &\leq \abs{x-y} + \abs{z-w}\\
                  &\leq \epsilon + \delta
    \end{align*}
    which means that $x+z$ and $y+w$ are $(\epsilon+\delta)$-close.

    Similarly, $d(x-z, y-w) = \abs{(x-y)+(w-z)}$, and using just the
    symmetry of distance, we can conclude that $x-z$ and $y-w$ are
    $(\epsilon+\delta)$-close according to the previous result.
  \item This is clear: we have $d(x,y) \leq \epsilon < \epsilon'$.
  \item Since $d(x,y) \leq \epsilon$, we have
    $-\epsilon \leq y-x \leq \epsilon$. Similarly, we have
    $-\epsilon \leq z-x \leq \epsilon$.

    $y$ and $z$ are exchangeable here, so we can suppose that $y
    \leq w \leq z$. From this inequality, we can get $y-x \leq w-x
    \leq z-x$. Extending this with the former inequalities, we have:
    \[-\epsilon \leq y-x \leq w-x \leq z-x \leq \epsilon\] and in
    particular $-\epsilon \leq w-x \leq \epsilon$, which means
    $d(w,x) \leq \epsilon$.
  \item We have $d(x,y) = \abs{x-y} \leq \epsilon$. Since $z$ is
    positive, we have $\abs{z} > 0$, thus
    $\abs{x-y}\abs{z} \leq \epsilon \abs{z}$. But according to
    Proposition 4.3.3(d), $\abs{x-y}{z} = \abs{(x-y)z} =
    \abs{xz-yz}$. Thus, $\abs{xz-yz} \leq \epsilon \abs{z}$, i.e.,
    $xz$ and $yz$ are $\epsilon \abs{z}$-close.
  \end{enumerate}  
\end{exo}

\begin{exo}{4.3.3}{Prove Proposition 4.3.10.}
  
  Let $x$, $y$ be rationals, and $n$, $m$ be natural numbers. The
  claims to prove are the following (they are re-ordered and
  re-numbered here):

  \begin{enumerate}
  \item Show that $x^n x^m = x^{n+m}$. We induct on $n$ while keeping
    $m$ fixed.
    
    For the base case $n=0$ , we have on the one hand $x^n x^m = x^0
    x^m = 1 \cdot x^m = x^m$. On the other hand, $x^{n+m} = x^{0+m} =
    x^m$. Thus, both sides are equal, and the base case is done.
    
    Now suppose that $x^n x^m = x^{n+m}$, and let's show that $x^{n+1}
    x^m = x^{(n+1)m}$. We have:
    \[
      \begin{array}{rcll}
        x^{n+1} x^m  &=& (x^n x)x^m & \text{ (by Definition 4.3.9)} \\
                     &=& x^n x^m x  & \text{ (by associativity and
                                      commutativity of multiplication)} \\
                     &=& x^{n+m} x  & \text{ (by induction hypothesis)} \\
                     &=& x^{n+m+1}  & \text{ (by Definition 4.3.9 once again)}
      \end{array}
  \]
  This closes the induction.

  \item Show that $(xy)^n = x^n y^n$. Let's induct on $n$. The base
    case $n=0$ is obvious, since both sides are equal to 1. Now
    suppose inductively that $(xy)^n = x^n y^n$. Thus we have:
    \[
      \begin{array}{rcll}
        (xy)^{n+1}  &=& (xy)^n (xy) & \text{ (by Definition 4.3.9)} \\
                    &=& x^n y^n xy & \text{ (by inductive
                                     hypothesis)}\\
                    &=& x^n x y^n y & \text{ (by commutativity of
                        multiplication)}\\
                    &=& x^{n+1} y^{n+1} & \text{ (by Definition 4.3.9
                                          once again)}
      \end{array}
    \]
    
  \item Show that $(x^n)^m = x^{nm}$. We induct on $n$ while keeping
    $m$ fixed.

    For the base case $n=0$, we have $(x^n)^m = 1^m = 1$, since $1^m =
    1$ for all natural number $m$\footnote{This can easily be proved
      by induction, which we'll not write formally here.}. On the
    other hand, $x^{nm} = x^{0m} = 1$. Thus, both sides are equal, and
    the base case is done.

    Now suppose inductively that $(x^n)^m = x^{nm}$. Then we have:
    \[
      \begin{array}{rcll}
        (x^{n+1})^m  &=& (x^nx)^m & \text{ (by Definition 4.3.9)} \\
                     &=& (x^{n})^m x^m & \text{ (proved in 2. from this
                                         exercise)}\\
                     &=& x^{nm} x^m & \text{ (by inductive
                                      hypothesis)} \\
                     &=& x^{nm+m} & \text{ (proved in 1. from this
                                    exercise)}\\
                     &=& x^{(n+1)m}
      \end{array}
    \]
    This closes the induction.
    
  \item Show that if $n>0$, then $x^n = 0$ iff $x=0$. For that, let's
    induct on $n$. Here the base case starts with $n=1$ since we
    suppose $n>0$. For $n=1$, $x^1 = x$, thus we obviously have $x^1=0
    \, \Leftrightarrow x=0$ since both objects are equal.

    Now suppose inductively that $x^n = 0$ iff $x=0$. We must show
    that $x^{n+1} = 0$ iff $x=0$. Here we'll need the following lemma:
    \begin{lem}Let $x,y$ be rational numbers. Then, if $xy=0$, we have
      either $x=0$ or $y=0$.
    \end{lem}
    \begin{proof}
      Let's denote $x = a \quot b$ and $y = c \quot d$. By Definition
      4.2.2, $xy = (ac) \quot (bd)$. Thus, since $xy = 0$, we have
      $ac=0$ (see Tao's remark p. 83). And, by Proposition 4.1.8, we
      have either $a=0$ or $c=0$. In the first case, this means that
      $x=0$; in the second case this means that $y=0$.
    \end{proof}
    Now go back to the main proof. First, if $x=0$, we have
    $x^{n+1} = x^n x = 0^n \times 0 = 0$. Conversely, if
    $x^{n+1} = 0$, then $x^n x = 0$. According to the previous lemma,
    this means that either $x^n =0$ or $x=0$. In the second case, we
    are done. In the first case, the induction hypothesis also allows
    to conclude that $x^n=0$. This closes the induction.

  \item Show that if $x \geq y \geq 0$, then $x^n \geq y^n \geq
    0$. Let's induct on $n$.

    For the base case $n=0$, $x^0 = y^0 = 1$. Thus in particular we
    have indeed $x^0 \geq y^0 \geq 0$.

    Now suppose inductively that $x^n \geq y^n \geq 0$, and show that
    $x^{n+1} \geq y^{n+1} \geq 0$. We start from $x^n \geq y^n \geq 0$
    and multiply all terms by $x$ (which preserves inequality since
    $x$ is supposed to be positive): we get
    $x^{n+1} \geq xy^n \geq 0$. If we start from $x \geq y \geq 0$ and
    multiply all terms by $y^n$ (which is also positive by induction
    hypothesis), we get $y^nx \geq y^{n+1} \geq 0$. Now combine all
    those inequalities:
    \[x^{n+1} \geq xy^n \geq y^{n+1} \geq 0\]
    This closes the induction.

  \item Show that $\abs{x^n} = \abs{x}^n$. Let's induct on $n$.

    For the base case $n=0$, we have $\abs{x^n} = \abs{x^0} = \abs{1} = 1$; and
    $\abs{x}^n = \abs{x}^0 = 1$. Thus both sides are equal, and the
    base case is done.

    Now suppose that $\abs{x^n} = \abs{x}^n$ and show that
    $\abs{x^{n+1}} = \abs{x}^{n+1}$. We have:
    \[
      \begin{array}{rcll}
        \abs{x^{n+1}} &=& \abs{x^n x} & \text{ (by Definition 4.3.9)} \\
                      &=& \abs{x^n} \cdot \abs{x} & \text{ (by
                                                    Proposition 4.3.3d)}\\
                      &=& \abs{x}^n \cdot \abs{x} & \text{ (by inductive
                                                    hypothesis)} \\
                      &=& \abs{x}^{n+1}
      \end{array}
    \]
    This closes the induction.
  \end{enumerate}
\end{exo}

\begin{exo}{4.3.4}{Prove Proposition 4.3.12.}

  This is essentially the same exercise as 4.3.3, but dealing with
  integer exponents (instead of natural exponents). The claims to
  prove are the following (and once again, they are re-labeled):
  
  \begin{enumerate}
  \item Prove that $x^nx^m = x^{n+m}$. Let's distinguish three cases:
    \begin{itemize}
    \item If $n, m \geq 0$, then this is simply Proposition 4.3.10(a).
    \item If $n, m < 0$, then $n=-p$ and $m=-q$ with $p,q$ positive
      natural numbers. Thus,
      $x^n x^m = (1/x^p) \cdot (1/x^q) = 1/(x^p x^q)$ by Definition
      4.2.2. But since $p,q$ are positive, this is also equal to
      $1/(x^{p+q})$ according to Proposition 4.3.10(a). This can also
      be written $x^{-(p+q)}$ by Definition 4.3.11, which is finally
      equal to $x^{n+m}$.
    \item If $n \geq 0$ and $m < 0$ (or inversely, since they are
      exchangeable), then $m = -q$ with $q$ a positive natural number.
      Thus, $x^n x^m = x^n \times (1 / x^q) = x^n / x^q$. We will
      (once again) split into two cases:
      \begin{itemize}
      \item if $n \geq -m$, i.e. if $n - q \geq 0$, then we can note
        that $x^{n-q} \cdot x^q = x^n$ according to Proposition
        4.3.10(a). Thus, let's multiply both sides of this equality by
        $x^{-q}$ to get $x^{n-q} = x^n x^{-q}$; which can be rewritten
        $x^{n+m} = x^n x^m$ as required.
      \item if $n < -m$, i.e. $q-n>0$, then we can note that
        $x^{q-n} x^n = x^q$ according to Proposition 4.3.10(a). Also,
        since $n-q < 0$, according to Definition 4.3.11, we have
        $x^{n-q} = 1 / x^{q-n}$. Let's multiply both sides by $1/x^n$,
        to get $x^{n-q} / x^n = 1 / (x^{q-n} x^n) = 1 / x^q =
        x^{-q}$. Finally, multiply both sides by $x^n$ to get
        $x^{n+m} = x^n x^m$.
      \end{itemize}
    \end{itemize}
  \item Prove that $(x^n)^m = x^{nm}$.
  \item Show that $(xy)^n = x^n y^n$. If $n \geq 0$, this is simply
    Proposition 4.3.10(a). So let's consider the case $n < 0$. In this
    case, $n = -p$, with $p$ a positive natural number. Thus we have
    successively:
    \[
      \begin{array}{rcll}
        (xy)^n &=& (xy)^{-p} &\\
               &=& 1 / (xy)^p & \text{ (by Definition 4.3.11)}\\
               &=& 1/(x^p y^p) & \text{ (Proposition 4.3.10(a))}\\
               &=& 1/(x^p) \, \times 1/(y^p) & \text{ (Definition
                                               4.2.2)} \\
               &=& x^{-p} \times y^{-p} & \text{ (by Definition
                                          4.3.11)}\\
               &=& x^n \times y^n &
      \end{array}
    \]
  \item Show that if $x \geq y > 0$, then $x^n \geq y^n > 0$ if $n$ is
    positive, and $0 < x^n \leq y^n$ if $n$ is negative.
    \begin{itemize}
    \item If $n > 0$, according to Proposition 4.3.10(c), we already
      have $x^n \geq y^n \geq 0$, so that we just have to show that
      the rightmost inequality is strict, i.e. that $y^n > 0$. To show
      that, we only need to prove $y^n \neq 0$. For the sake of
      contradiction, let's suppose that $y^n = 0$. Our starting
      hypothesis was $x \geq y > 0$, thus we know that $y \neq
      0$. According to Proposition 4.3.10(b), we can't have both
      $y \neq 0$ and $y^n = 0$, this is a contradiction. Thus, we
      indeed have $y^n \neq 0$, which shows the inequality
      $x^n \geq y^n > 0$ as required.
    \item If $n < 0$, this includes an important result, which is that
      taking the inverse reverses order. Indeed, let's begin by
      proving that if $x \geq y > 0$, then $1/x \leq 1/y$. Since both
      $x$ and $y$ are positive, their product $xy$ is also positive,
      and $1/(xy)$ is also positive. Following Proposition 4.2.9(e),
      we can multiply both sides of $x \geq y$ by $1/(xy)$ to get $1/y
      \geq 1/x$. Then, we immediately get $(1/y)^p \geq (1/x)^p$ for
      any positive number $p$ by Proposition 4.3.10(c), which can be
      rewritten $y^n \geq x^n$ with $n = -p$ negative. And since both
      numbers are positive (because $x$ and $y$ are positive), the
      claim follows.
    \end{itemize}
  \item Prove that if $x,y > 0$ and $n \neq 0$, then $x^n = y^n
    \Longrightarrow x = y$. Let's consider two cases: $n > 0$ and $n
    < 0$.

    First, if $n > 0$, suppose for the sake of contradiction that we
    have both $x^n = y^n$ and $x \neq y$. According to the trichotomy
    of rationals (Lemma 4.2.7), this last claim means that we have
    either $x > y$ or $y > x$. Since $x$ and $y$ are exchangeable, we
    only prove the first case here, $x > y$. In this case,
    Proposition 4.3.10(c) leads to $x^n > y^n$, which is obviously not
    compatible with our initial hypothesis $x^n = y^n$. A similar
    contradiction follows in the case $y > x$. Thus, both $x>y$ and
    $y>x$ are impossible, and the only possibility is $x=y$.

    Now, if $n <0$, then $n=-p$, with $p$ a positive natural
    number. Suppose that $x^n = y^n$, i.e. that $x^{-p} = y^{-p}$, or
    finally $1/x^p = 1/y^p$. From this last equality, by multiplying
    both sides by $x^py^p$, we get $y^p = x^p$. We are thus back in
    the previous case, and obtain $x=y$.
  \item Prove that $\abs{x^n} = \abs{x}^n$. If $n \geq 0$, this is
    simply Proposition 4.3.10(d). So let's consider the case $n <
    0$. We'll need a quick lemma:

    \begin{lem}
      For all rationals $x \neq 0$, we have $\abs{1/x} = 1 / \abs{x}$.
    \end{lem}

    \begin{proof}
      If $x>0$, there is nothing to show. If $x<0$, then $1/x$ is also
      negative\footnote{Formally, see Definition 4.2.6, and note that
        $a \quot (-b) = (-a) \quot b$ if $a$ and $b$ are positive
        integers.}. Thus, $1 / \abs{x} = 1 / (-x)$; and
      $\abs{1/x} = -(1/x)$. And we have clearly $1/(-x) = -(1/x)$
      because $1/(-x) + 1/x = 0$.
    \end{proof}

    In this case, $n = -p$, with $p$ a positive natural number. We
    have successively:
    \[
      \begin{array}{rcll}
        \abs{x^n} &=& \abs{x^{-p}} \\
                  &=&\abs{1/(x^p)} & \text{ (by Definition 4.3.11)} \\
                  &=& \abs{(1/x)^p} & \text{ (Proposition 4.3.12(a))} \\
                  &=& \abs{1/x}^p & \text{ (Proposition 4.3.10(d))} \\
                  &=& (\abs{1} / \abs{x})^p & \text{ (lemma introduced
                                              just above)} \\
                  &=& 1 / \abs{x}^p & \text{ (Proposition 4.3.12(a))}
        \\
                  &=& \abs{x}^{-p} & \text{ (Definition 4.3.11)} \\
                  &=& \abs{x}^n
      \end{array}
    \]
  \end{enumerate}
\end{exo}

\begin{exo}{4.3.5}{Prove that $2^N \geq N$ for all positive integers $N$.}

  Let's use induction on $N$. Since we only consider positive
  integers, we have here $N \geq 1$, and in particular, the base case
  starts at $N=1$.

  For the base case $N=1$, the assertion is true, since we have indeed
  $2^1 \geq 1$.

  Now suppose inductively that $2^N \geq N$, and show that $2^{N+1}
  \geq N+1$.  We have $2^{N+1} = 2^N \times 2 \geq N \times 2$ by
  induction hypothesis. But we know that $2N = N+N$ (recall Definition
  2.3.1 for instance), thus we can rewrite this as $2^{N+1} \geq
  N+N$. And since $N \geq 1$, we finally get $2^{N+1} \geq N+1$.
\end{exo}

\bigskip

\begin{exo}{4.4.1}{Prove Proposition 4.4.1.}

  We have to prove that, for any rational number $x$, there exists an
  integer $n$ such that $n \leq x < n+1$. Let's proceed through the
  following four steps:

  \begin{itemize}
  \item Suppose that $x \in \qq_+$. Thus, $x = a/b$, with $a$ and $b$
    natural numbers. According to Proposition 2.3.9, there exists
    $n, r \in \nn$ such that $a=bn+r$, with $0 \leq r < b$. By
    dividing all terms by $b$, this also means that
    $x = a/b = n + r/b$, with $0 \leq r/b < 1$.

    Since $0 \leq r/b < 1$, we have $n \leq n + r/b < n+1$, i.e. $n
    \leq x < n+1$, as required.    
  \item Now suppose that $x \in \qq_{-}^{\star}$. Consequently, $-x
    \in \qq_+$, and we are back in the previous case: there exists a
    natural number $n$ such that $n \leq -x < n+1$, i.e. $-n-1 < x
    \leq -n$. Now we have two possible cases:
    \begin{itemize}
    \item if $x=-n$, then let be $m = -n$. Thus, $m-1 < x \leq m$, and
      then $m \leq x < m+1$, as required.
    \item if $x \neq -n$, then let be $m = -n-1$. Thus,
      $m < x \leq m + 1$, i.e. $m-1 \leq x < m$. And by denoting
      $p=m-1$, we have $p \leq x < p+1$ as required.
    \end{itemize}
  \item Let's prove that this integer $n$ is unique. Suppose that we
    have two integers $m, n$ such that:
    \begin{align}
      n &\leq x < n+1 \label{intpartn} \\
      m &\leq x < m+1 \label{intpartm}
    \end{align}
    From (\ref{intpartm}), we also have $-m-1 < -x \leq -m$. And, by
    adding this inequality to (\ref{intpartn}), we get
    $n-m-1 < 0 < n-m+1$. The left-hand side says that $n < m+1$,
    i.e. that $n \leq m$ (recall Proposition 2.2.12 (e)). Similarly,
    the right-hand side says that $n > m-1$, i.e. that $n \geq
    m$. Thus, we have both $n \leq m$ and $n \geq m$, which means that
    $n=m$.
  \item Finally, this means in particular that there exists a natural
    number $N$ such that $N > x$. Indeed, if $x$ is negative, then
    $N=0$ is suitable; and if $x$ is positive, then $N$ is directly
    given by $N = \floor{x} + 1$.
  \end{itemize}  
\end{exo}

\begin{exo}{4.4.2}{A sequence $a_0, a_1, a_2, \ldots$ of numbers
    (natural numbers, integers, rationals, or reals) is said to be in
    \emph{infinite descent} if we have $a_n > a_{n+1}$ for all natural
    numbers $n$ (i.e., $a_0 > a_1 > a_2 > \ldots$).
  \begin{enumerate}
  \item Prove the principle of infinite descent: that it is not
    possible to have a sequence of natural numbers which is in
    infinite descent.
  \item Does the principle of infinite descent work if the sequence
    $a_1, a_2, a_3, \ldots$ is allowed to take integer values instead
    of natural number values? What about if it is allowed to take
    positive rational values instead of natural numbers? Explain.
  \end{enumerate}}

We follow the hints given by Terence Tao.

\begin{enumerate}
\item Assume for the sake of contradiction that we have a sequence of
  natural numbers $(a_n)$ which is in infinite descent. Let $k$ be a
  natural number, and $P_k$ be the property ``$a_n \geq k$ for all
  natural numbers $n$''. Let's induct on $k$.

  For the base case, $P_0$ is true since $a_n$ are natural numbers for
  all $n$, so that $a_n \geq 0$ for all $n$ by definition.

  Now let's suppose inductively that $P_k$ is true, i.e. that
  $a_0 > a_1 > a_2 > \ldots \geq k$. If we had $a_p = k$ for one given
  natural number $p$, then we would have $k = a_p > a_{p+1}$. But
  also, $a_{p+1} > a_{p+2} > ... > k$ by induction
  hypothesis. However, the inequality $k \geq a_{p+1} > k$ is a
  contradiction, so that $a_n \neq k$ for all $n$. Thus, $P_{k+1}$
  is also true: we have $a_n > k+1$ for all $n$.

  However, having $a_n > k$ for all natural numbers $k,n$ is a
  contradiction. Indeed, for $k = a_0$ and $n=1$, we have $a_1 > a_0$,
  which contradicts the fact that $(a_n)$ is in infinite descent.

  Thus, there are no such sequence of natural numbers.

\item A general note: to prove that the infinite descent principle
  does not work for integers or rationals, it is enough to find
  \emph{one} sequence of such numbers which is actually in infinite
  descent. Instead of a formal proof as in the previous case, a simple
  counterexample will do the trick.
  \begin{itemize}
  \item If the sequence $a_0 > a_1 > \ldots$ can take integer values,
    lets define the sequence by $a_n = -n$. By definition, we have
    $a_n > a_{n+1}$ for all natural number $n$ (since $-n > -n-1$, as
    a simple induction will show).
  \item If the sequence $a_0 > a_1 > \ldots$ can take rational values,
    lets define the sequence by $a_n = 1/n$. Thus, we have $a_n >
    a_{n+1}$ for all natural number $n$, since $1/n > 1/(n+1)$. (This
    can be shown as follows: $1/n - 1/(n+1) = 1 / (n(n+1)) > 0$.)
  \end{itemize}
\end{enumerate}

\end{exo}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
